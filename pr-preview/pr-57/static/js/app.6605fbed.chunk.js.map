{"version":3,"sources":["src/contexts/routing/RoutingContext.ts","src/contexts/application/ApplicationContext.ts","src/components/Header/index.tsx","src/services/s3/index.ts","src/components/Input/InputField.tsx","src/components/SaveCredentialsForm/index.tsx","src/components/ApiConfiguration/index.tsx","src/adapters/s3.ts","src/components/ContextMenu/index.tsx","src/components/DataGrid/dataGridColumns.tsx","src/components/DataGrid/index.tsx","src/components/ListAssets/index.tsx","src/hooks/useS3Client.ts","src/hooks/useGetAssets.ts","src/pages/dashboard/index.tsx","src/components/MobileNavigation/index.tsx","src/services/localstorage/index.ts","src/App.tsx","src/hooks/useGetApplicationStateFromLS.ts","src/routes/index.tsx","src/pages/credentials/index.tsx","src/pages/home/index.tsx","src/providers/BasicProvider.tsx","src/providers/QueryProvider.tsx","src/providers/Provider.tsx","src/ExportApp.tsx","App.js","index.js"],"names":["RoutingContext","createContext","Object","create","initialData","s3credentials","apiKey","undefined","apiSecret","region","endpoint","bucket","s3client","otherStuff","ApplicationContext","Header","props","Appbar","mode","elevated","name","Content","title","buildS3Client","initializationData","credentials","client","S3Client","middlewareStack","add","next","context","args","step","getAssets","params","console","log","command","ListObjectsCommand","response","send","folders","CommonPrefixes","map","item","prefix","Prefix","etag","lastModified","size","files","Contents","ETag","Key","LastModified","Size","InputField","control","label","styles","StyleSheet","textInput","height","marginTop","render","field","value","onChange","onBlur","TextInput","onChangeText","text","style","SaveCredentialsForm","useContext","appState","setAppState","useForm","defaultValues","handleSubmit","getValues","reset","useEffect","useState","setSaved","onSubmit","onToggleSnackBar","data","setTimeout","s3Client","accessKeyId","secretAccessKey","Bucket","catch","React","visible","setVisible","container","flex","inner","padding","justifyContent","header","fontSize","marginBottom","borderColor","borderBottomWidth","snackBarContainer","ScrollView","KeyboardAvoidingView","behavior","Platform","OS","Surface","Card","Text","variant","Actions","Button","onPress","View","Snackbar","onDismiss","action","ApiConfiguration","S3TypeToInternalAdapter","assets","asset","fileName","replace","assetId","fileSize","updatedAt","isFolder","length","ContextMenu","dayjs","extend","relativeTime","iconType","exec","AntDesign","Feather","DataGridColumns","columnHelper","createColumnHelper","accessor","id","cell","info","row","original","getValue","slice","prettyBytes","fromNow","display","filter","DataGrid","setData","table","useReactTable","columns","getCoreRowModel","getPaginationRowModel","setPageSize","DataTable","getHeaderGroups","headerGroup","headers","Title","isPlaceholder","flexRender","column","columnDef","getContext","getRowModel","rows","Row","getVisibleCells","Cell","Pagination","page","getState","pagination","pageIndex","numberOfPages","getPageCount","onPageChange","setPageIndex","path","margin","fabStyle","bottom","right","position","zIndex","ListAssets","isExtended","rerun","setRerun","useMemo","useS3Client","s3Initialized","Delimiter","dataQuery","setDataQuery","clientInitialized","queryResponse","useQuery","error","enabled","refetchOnWindowFocus","useGetAssets","isLoading","isError","setPrefix","hostName","Math","random","newPrefix","substring","lastIndexOf","goBack","ActivityIndicator","animating","AnimatedFAB","icon","extended","animateFrom","iconMode","Dashboard","MobileNavigation","index","setIndex","key","focusedIcon","routes","renderScene","BottomNavigation","SceneMap","api_configuration","navigationState","onIndexChange","storeData","AsyncStorage","setItem","JSON","stringify","e","getData","getItem","parseJson","jsonString","parse","getApplicationStateLS","defaultValue","setApplicationStateLS","App","routingState","d","setD","isLoaded","setIsLoaded","then","useGetApplicationStateFromLs","savedApplicationData","applicationState","applicationStateData","setApplicationStateData","Provider","isReady","route","internalRoutes","component","showInNavigation","BasicProvider","children","setRoutingState","queryClient","QueryClient","QueryProvider","ExportApp","backgroundColor","alignItems","registerRootComponent"],"mappings":"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","file":"static/js/app.6605fbed.chunk.js","sourcesContent":["import { createContext } from 'react'\r\n\r\nexport const RoutingContext = createContext(Object.create(null))\r\n","/**\r\n * This context will hold all of our application data like the current\r\n * user's api Keys, currently viewed directory, etc\r\n */\r\n\r\nimport { S3Client } from '@aws-sdk/client-s3'\r\nimport React, { createContext } from 'react'\r\n\r\nexport interface ApplicationState {\r\n  s3credentials: {\r\n    apiKey: string | undefined\r\n    apiSecret: string | undefined\r\n    region: string | undefined\r\n    endpoint: string | undefined\r\n    bucket: string | undefined\r\n  }\r\n  otherStuff: string\r\n  s3client: S3Client | undefined\r\n}\r\n\r\nexport const initialData: ApplicationState = {\r\n  s3credentials: {\r\n    apiKey: undefined,\r\n    apiSecret: undefined,\r\n    region: undefined,\r\n    endpoint: undefined,\r\n    bucket: undefined\r\n  },\r\n  s3client: undefined,\r\n  otherStuff: ''\r\n}\r\n\r\nexport type ApplicationContextType = [\r\n  ApplicationState,\r\n  React.Dispatch<React.SetStateAction<ApplicationState>>\r\n]\r\n\r\nexport const ApplicationContext = createContext<ApplicationContextType>(\r\n  Object.create(null)\r\n)\r\n","import React from 'react'\nimport { Appbar } from 'react-native-paper'\nimport { PortalHost } from '@gorhom/portal'\nconst Header = (props: any): JSX.Element => (\n  <Appbar.Header mode='center-aligned' elevated={true}>\n    <PortalHost name=\"Back\" />\n    <Appbar.Content title={props.title} />\n    <PortalHost name=\"Reloader\" />\n  </Appbar.Header>\n)\n\nexport default Header\n","import { S3Client, ListObjectsCommand } from '@aws-sdk/client-s3'\r\nimport { S3Initializer, GetAssetArgs, Asset } from './types'\r\nimport 'react-native-url-polyfill/auto'\r\nimport 'react-native-get-random-values'\r\n// eslint-disable-next-line\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport const buildS3Client = (initializationData: S3Initializer): S3Client => {\r\n  const { credentials, region, endpoint } = initializationData\r\n  const client = new S3Client({\r\n    region,\r\n    credentials,\r\n    endpoint\r\n  })\r\n  client.middlewareStack.add(\r\n    (next, context) => async (args) => {\r\n      // args.request.headers[\"Custom-Header\"] = \"value\";\r\n      // eslint-disable-next-line\r\n            // @ts-ignore\r\n      // delete args.request.headers[\"amz-sdk-request\"];\r\n      // delete args.request.headers[\"amz-sdk-invocation-id\"];//x-amz-content-sha256\r\n      // delete args.request.headers[\"x-amz-content-sha256\"];\r\n      // args.request.headers[\"date\"] = (new Date()).toUTCString();\r\n      // delete args.request.headers[\"x-amz-date\"];\r\n      // delete args.request.headers[\"x-amz-user-agent\"];\r\n      const result = await next(args)\r\n      return result\r\n    },\r\n    {\r\n      step: 'finalizeRequest',\r\n      name: 'removeHeaders'\r\n    }\r\n  )\r\n  return client\r\n}\r\n\r\nexport const getAssets: (\r\n  client: S3Client,\r\n  params: GetAssetArgs\r\n) => Promise<Asset[] | undefined> = async (client, params) => {\r\n  console.log('[s3:getAssets] Making a List Objects command')\r\n  const command = new ListObjectsCommand(params)\r\n  console.log('[s3:getAssets] Command ', command)\r\n  console.log('[s3:getAssets] Our s3 Client', client)\r\n  console.log('[s3:getAssets] Sending command using client.send')\r\n\r\n  const response = await client.send(command)\r\n  const folders: Asset[] =\r\n        (((response.CommonPrefixes?.map((item) => {\r\n          return {\r\n            prefix: item.Prefix,\r\n            etag: undefined,\r\n            name: item.Prefix,\r\n            lastModified: undefined,\r\n            size: 0\r\n          }\r\n        })))) || []\r\n  const files: Asset[] =\r\n        (((response.Contents?.map((item) => {\r\n          return {\r\n            prefix: '',\r\n            etag: item.ETag,\r\n            name: item?.Key,\r\n            lastModified: item?.LastModified,\r\n            size: item?.Size\r\n          }\r\n        })))) || []\r\n  return [...folders, ...files]\r\n}\r\n\r\nexport const deleteAsset: (assetId: string) => void = (_assetId) => {\r\n  /**\r\n     * Implementation here\r\n     */\r\n}\r\n","import { Controller } from 'react-hook-form'\nimport { StyleSheet } from 'react-native'\nimport { TextInput } from 'react-native-paper'\nimport React from 'react'\n\nexport const InputField: (props: any) => JSX.Element = ({ control, name, label }: any) => {\n  if (control === undefined) {\n    return null\n  }\n  /* const {\n        field: { onChange, onBlur, value, ref },\n        fieldState: { invalid, isTouched, isDirty },\n        formState: { touchedFields, dirtyFields }\n    } = useController({\n        name,\n        control,\n        rules: { required: true },\n        defaultValue: \"\",\n    }); */\n\n  const styles = StyleSheet.create({\n    textInput: {\n      height: 40,\n      // borderColor: \"#000000\",\n      // borderBottomWidth: 1,\n      marginTop: 20\n    }\n  })\n\n  return <>\n    <Controller\n      control={control}\n      name={name}\n      render={({ field: { value, onChange, onBlur } }: any) => {\n        return <>\n          <TextInput\n            label={label}\n            value={value}\n            onChangeText={(text) => {\n              console.log('[InputChange] name = ', name, ' value = ', text)\n              onChange(text)\n            }}\n            onBlur={onBlur}\n            style={styles.textInput}\n          />\n        </>\n      }}\n    />\n  </>\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { ApplicationContext } from '../../contexts/application/ApplicationContext'\nimport { buildS3Client, getAssets } from '../../services/s3'\nimport { Text, Card, Surface, Snackbar } from 'react-native-paper'\nimport { InputField } from '../Input/InputField'\nimport { Button } from '../Button'\nimport { ScrollView, KeyboardAvoidingView, Platform, StyleSheet, View } from 'react-native'\nimport { S3Client } from '@aws-sdk/client-s3'\n\nexport const SaveCredentialsForm: React.FC = () => {\n  const [appState, setAppState] = useContext(ApplicationContext)\n  const { s3credentials } = appState\n  const { control, handleSubmit, getValues, reset } = useForm({\n    defaultValues: s3credentials\n  })\n\n  useEffect(() => {\n    reset(s3credentials)\n  }, [s3credentials])\n\n  const [, setSaved] = useState(false)\n\n  const onSubmit = (): void => {\n    onToggleSnackBar()\n    const data = getValues()\n    setAppState({\n      ...appState,\n      s3credentials: data as any,\n      s3client: undefined\n    })\n    setSaved(true)\n    setTimeout(() => {\n      setSaved(false)\n    }, 1000)\n    /**\n     * Build the s3 client here\n     */\n    const s3Client: S3Client = buildS3Client({\n      credentials: {\n        accessKeyId: data.apiKey,\n        secretAccessKey: data.apiSecret\n      },\n      region: data.region,\n      endpoint: data.endpoint\n    })\n\n    getAssets(s3Client, { Bucket: 'testinghumza' }).catch(() => {\n      console.log('[SaveCredentialsForm] Promise failure getAssets')\n    })\n  }\n\n  // snackbar\n  const [visible, setVisible] = React.useState<boolean>(false)\n  const onToggleSnackBar: () => void = () => setVisible(!visible)\n  const onDismissSnackBar: () => void = () => setVisible(false)\n\n  const styles = StyleSheet.create({\n    container: {\n      flex: 1\n    },\n    inner: {\n      padding: 24,\n      flex: 1,\n      justifyContent: 'space-around'\n    },\n    header: {\n      fontSize: 36,\n      marginBottom: 48\n    },\n    textInput: {\n      height: 40,\n      borderColor: '#000000',\n      borderBottomWidth: 1,\n      marginBottom: 36\n    },\n    snackBarContainer: {\n      flex: 1,\n      justifyContent: 'space-between'\n    }\n  })\n\n  return (\n    <ScrollView>\n      <KeyboardAvoidingView\n        behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n        style={styles.container}\n      >\n        <Surface style={styles.inner}>\n          <Card>\n            <Card.Content>\n              <Text variant=\"headlineSmall\">API Configuration</Text>\n              <InputField\n                control={control}\n                name=\"apiKey\"\n                label=\"API KEY\"\n              />\n\n              <InputField\n                control={control}\n                name=\"apiSecret\"\n                label=\"Api Secret\"\n              />\n\n              <InputField\n                control={control}\n                name=\"endpoint\"\n                label=\"Endpoint\"\n              />\n\n              <InputField\n                control={control}\n                name=\"bucket\"\n                label=\"Bucket\"\n              />\n\n              <InputField\n                control={control}\n                name=\"region\"\n                label=\"Region\"\n              />\n\n            </Card.Content>\n            <Card.Actions>\n              <Button onPress={() => handleSubmit(onSubmit)}>Submit</Button>\n            </Card.Actions>\n          </Card>\n        </Surface>\n      </KeyboardAvoidingView>\n\n      <View style={styles.snackBarContainer}>\n        <Snackbar\n          visible={visible}\n          onDismiss={onDismissSnackBar}\n          action={{\n            label: 'Dismiss',\n            onPress: () => {\n              // Do something\n            }\n          }}\n        >\n\n          Credentials are saved!\n\n          {/* {saved ? <Text>Credentials are saved!</Text> : <Text>Credentials not saved!</Text>} */}\n        </Snackbar>\n      </View>\n\n    </ScrollView>\n  )\n}\n","import { SaveCredentialsForm } from '../SaveCredentialsForm'\nimport React from 'react'\n\nexport const ApiConfiguration: React.FC = () => {\n  return (\n    <SaveCredentialsForm />\n  )\n}\n","import { Asset, GetAssetArgs } from '../services/s3/types'\nimport { Asset as AppAssetType } from '../services/types'\nexport const S3TypeToInternalAdapter = (assets: Asset[], params: GetAssetArgs): AppAssetType[] => {\n  return assets.map((asset: Asset) => {\n    const fileName: string = asset.name.replace(params.Prefix, '')\n    const appAsset: AppAssetType = {\n      assetId: asset.etag,\n      fileName,\n      fileSize: asset.size,\n      updatedAt: asset.lastModified,\n      isFolder: asset.prefix?.length > 0,\n      prefix: asset.prefix\n    }\n    return appAsset\n  })\n}\n","import React from 'react'\n\nexport const ContextMenu: React.FC = () => {\n  /*\n  const [anchorEl] = React.useState<null | HTMLElement>(null)\n  const open = Boolean(anchorEl) */\n  /*\n  const _handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  */\n\n  return (\n    <>\n    </>)\n}\n","import React from 'react'\nimport { ContextMenu } from '../ContextMenu'\nimport { createColumnHelper } from '@tanstack/react-table'\nimport { Asset } from '../../services/types'\nimport prettyBytes from 'pretty-bytes'\nimport dayjs from 'dayjs'\nimport relativeTime from 'dayjs/plugin/relativeTime'\nimport { AntDesign, Feather } from '@expo/vector-icons'\nimport { Platform } from 'react-native'\n\ndayjs.extend(relativeTime)\n\n// icons for different file types or folders\nconst iconType = (asset: Asset): JSX.Element => {\n  const re = /(?:\\.([^.]+))?$/\n  const internalType = asset.isFolder ? 'folder' : (re.exec(asset.fileName)[1] || '')\n  switch (internalType) {\n    case 'folder':\n      return <AntDesign name=\"folder1\" size={24} />\n    case 'txt':\n      return <Feather name=\"file-text\" size={24} />\n    default:\n      return <Feather name=\"file\" size={24} />\n  }\n}\n\nexport const DataGridColumns: any = () => {\n  const columnHelper = createColumnHelper<Asset>()\n  const columns: any = [\n    // Dispaly file name with icon\n    columnHelper.accessor('fileName', {\n      id: 'fileName',\n      header: 'Name',\n      cell: info => {\n        const row = info.row.original\n        const fileName = row.isFolder ? info.getValue().slice(0, -1) : info.getValue()\n        return (<>{iconType(row)} {fileName}</>)\n      }\n    }),\n\n    // Display file size\n    columnHelper.accessor('fileSize', {\n      id: 'fileSize',\n      header: 'Size',\n      cell: info => !info.row.original.isFolder && prettyBytes(info.getValue())\n    }),\n\n    // Dispaly last modified\n    columnHelper.accessor('updatedAt', {\n      id: 'updatedAt',\n      header: 'Last Modified',\n      cell: info => {\n        return !info.row.original.isFolder && dayjs(info.getValue()).fromNow()\n      }\n    }),\n\n    // Display column size\n    columnHelper.display({\n      id: 'actions',\n      cell: () => <ContextMenu />\n    })\n  ]\n    .filter((item) => {\n      return Platform.OS !== 'web' ? item.id === 'fileName' : true\n    })\n  return columns\n}\n","import React, { Fragment, useEffect } from 'react'\nimport { flexRender, getCoreRowModel, getPaginationRowModel, useReactTable } from '@tanstack/react-table'\nimport { DataGridColumns } from './dataGridColumns'\nimport { Asset } from '../../services/types'\nimport { DataTable, Text } from 'react-native-paper'\n\nexport interface DataGridProps {\n  assets: Asset[] | undefined\n  onPress: (asset: Asset) => void\n}\n\nexport const DataGrid: (props: DataGridProps) => JSX.Element = ({ assets, onPress }: DataGridProps) => {\n  const [data, setData] = React.useState<Asset[]>(() => assets || [])\n  useEffect(() => {\n    setData(assets || [])\n  }, [assets])\n  const table = useReactTable({\n    data,\n    columns: DataGridColumns(),\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel()\n\n  })\n\n  useEffect(() => {\n    table.setPageSize(20)\n  }, [])\n\n  return (\n    <DataTable >\n      <DataTable.Header>\n        {table.getHeaderGroups().map(headerGroup => (\n          <Fragment key={headerGroup.id}>\n            {headerGroup.headers.map(header => (\n              <DataTable.Title key={header.id}>\n                <Text >\n                  {header.isPlaceholder\n                    ? null\n                    : flexRender(\n                      header.column.columnDef.header,\n                      header.getContext()\n                    )}\n                </Text >\n\n              </DataTable.Title>\n            ))}\n          </Fragment>\n        ))}\n      </DataTable.Header>\n      {table.getRowModel().rows.map(row => {\n        return <DataTable.Row key={row.id} onPress={() => { onPress(row.original) }}>\n          {row.getVisibleCells().map(cell => (\n            <DataTable.Cell key={cell.id}>\n              <Text >\n                {flexRender(cell.column.columnDef.cell, cell.getContext())}\n              </Text>\n            </DataTable.Cell>\n          ))}\n        </DataTable.Row>\n      })}\n      <DataTable.Pagination\n        page={table.getState().pagination.pageIndex + 1}\n        numberOfPages={table.getPageCount()}\n        onPageChange={(page) => table.setPageIndex(page - 1)}\n        label={`${table.getState().pagination.pageIndex + 1} of ${table.getPageCount()}`}\n      />\n    </DataTable>\n\n  )\n}\n","import React, { useContext, useEffect, useState } from 'react'\nimport {\n  ApplicationContext,\n  ApplicationContextType\n} from '../../contexts/application/ApplicationContext'\nimport { useGetAssets } from '../../hooks/useGetAssets'\nimport { useS3Client } from '../../hooks/useS3Client'\nimport { DataGrid } from '../DataGrid'\nimport { ScrollView, StyleSheet } from 'react-native'\nimport {\n  Text,\n  ActivityIndicator,\n  AnimatedFAB\n} from 'react-native-paper'\nimport { Button } from '../Button'\nimport { Asset } from '../../services/types'\nimport { GetAssetArgs } from '../../services/s3/types'\nimport { Portal } from '@gorhom/portal'\n\nconst styles = StyleSheet.create({\n  path: {\n    margin: 10\n  },\n  fabStyle: {\n    bottom: 16,\n    right: 16,\n    position: 'absolute',\n    zIndex: 1\n  }\n})\n\nexport const ListAssets: React.FC = () => {\n  const [isExtended] = React.useState(false)\n  const [rerun, setRerun] = useState('')\n  const [appState] = useContext<ApplicationContextType>(ApplicationContext)\n  const [s3client, s3Initialized] = useS3Client(appState)\n  const [dataQuery, setDataQuery] = useState<GetAssetArgs>({\n    Bucket: appState.s3credentials.bucket,\n    Prefix: '',\n    Delimiter: '/'\n  })\n  useEffect(() => {\n    setDataQuery({ ...dataQuery, Bucket: appState.s3credentials.bucket })\n    console.log('Current app state= ', appState)\n  }, [appState, s3client])\n\n  const { data, isLoading, isError } = useGetAssets(\n    s3client,\n    s3Initialized,\n    dataQuery,\n    rerun\n  )\n\n  const setPrefix = (prefix: string): void => {\n    setDataQuery({ ...dataQuery, Prefix: prefix })\n  }\n  const onPress = (asset: Asset): void => {\n    if (asset.isFolder) {\n      setPrefix(asset.prefix)\n    }\n  }\n\n  const goBack: () => void = () => {\n    const prefix = dataQuery.Prefix\n    if (prefix !== '') {\n      const newPrefix = prefix.substring(\n        0,\n        prefix.substring(0, prefix.length - 1).lastIndexOf('/') + 1\n      )\n      setPrefix(newPrefix)\n    }\n  }\n\n  return (\n    <>\n      <Portal hostName=\"Reloader\">\n        <Button\n          onPress={() => {\n            setRerun(`${Math.random()}`)\n          }}\n          mode=\"outlined\"\n        >\n          Reload\n        </Button>\n      </Portal>\n      <Portal hostName=\"Back\">\n        {dataQuery.Prefix?.length > 0 && (\n          <Button\n            onPress={() => {\n              goBack()\n            }}\n            mode=\"outlined\"\n          >\n            Go back\n          </Button>\n        )}\n      </Portal>\n      <Text variant=\"bodyLarge\" style={styles.path}>\n        {`Bucket Root /${dataQuery.Prefix}`}\n      </Text>\n      {isLoading && <ActivityIndicator animating={true} />}\n      {isError && <Text variant=\"headlineSmall\">Error </Text>}\n      <AnimatedFAB\n        icon={'plus'}\n        label={'Label'}\n        extended={isExtended}\n        onPress={() => console.log('Pressed')}\n        visible={true}\n        animateFrom={'right'}\n        iconMode={'static'}\n        style={[styles.fabStyle]}\n      />\n      <ScrollView>\n        {(data != null) && !isLoading && (\n          <DataGrid assets={data} onPress={onPress} />\n        )}\n      </ScrollView>\n    </>\n  )\n}\n","import { S3Client } from '@aws-sdk/client-s3'\nimport { useMemo } from 'react'\nimport { ApplicationState } from '../contexts/application/ApplicationContext'\nimport { buildS3Client } from '../services/s3'\n\nexport const useS3Client: (appState: ApplicationState) => [S3Client | undefined, boolean] = (appState: ApplicationState) => {\n  const { s3credentials } = appState\n  const { apiKey, apiSecret, region, endpoint } = s3credentials\n  const [client, isInitialized] = useMemo(() => {\n    if (apiKey && apiSecret && endpoint) {\n      console.log('[useS3Client] Building S3 Client region = ', region)\n      console.log('[useS3Client] Building S3 Client apiKey = ', apiKey)\n\n      return [buildS3Client({\n        region,\n        credentials: {\n          accessKeyId: apiKey,\n          secretAccessKey: apiSecret\n        },\n        endpoint\n      }), true]\n    }\n    return [undefined, false]\n  }, [apiKey, apiSecret, region, endpoint])\n  return [client, isInitialized]\n}\n","import { S3Client } from '@aws-sdk/client-s3'\nimport { useQuery, UseQueryResult } from '@tanstack/react-query'\nimport { S3TypeToInternalAdapter } from '../adapters/s3'\nimport { getAssets } from '../services/s3'\nimport { GetAssetArgs } from '../services/s3/types'\nimport { Asset } from '../services/types'\n\nexport const useGetAssets = (client: S3Client, clientInitialized: boolean, params: GetAssetArgs, rerun: string = ''): UseQueryResult<Asset[], unknown> => {\n  const queryResponse = useQuery(['getAssets', rerun, params.Bucket || '', params.Delimiter || '', params.Prefix || ''], async () => {\n    try {\n      console.log('[useGetAssets] Getting data with params = ', params)\n      const data = await getAssets(client, params)\n      const assets = S3TypeToInternalAdapter(data, params)\n      console.log('[useGetAssets] Assets = ', assets)\n      return assets\n    } catch (error) {\n      console.log('[useGetAssets] Error : ', error)\n    }\n    return []\n  }, {\n    enabled: clientInitialized,\n    refetchOnWindowFocus: false\n  })\n  return queryResponse\n}\n","import React from 'react'\r\nimport { ListAssets } from '../../components/ListAssets'\r\n\r\nexport default function Dashboard (): JSX.Element {\r\n  return (\r\n    <ListAssets />\r\n  )\r\n}\r\n","import * as React from 'react'\nimport { BottomNavigation } from 'react-native-paper'\nimport { ApiConfiguration } from '../ApiConfiguration/index'\nimport Dashboard from '../../pages/dashboard'\n\nconst MobileNavigation: React.FC = () => {\n  const [index, setIndex] = React.useState(0)\n  const [routes] = React.useState([\n    { key: 'assets', title: 'Assets', focusedIcon: 'folder' },\n    { key: 'api_configuration', title: 'API Configuration', focusedIcon: 'cogs' }\n  ])\n\n  const renderScene = BottomNavigation.SceneMap({\n    assets: Dashboard,\n    api_configuration: ApiConfiguration\n  })\n\n  return (\n    <BottomNavigation\n      navigationState={{ index, routes }}\n      onIndexChange={setIndex}\n      renderScene={renderScene}\n    />\n  )\n}\n\nexport default MobileNavigation\n","import AsyncStorage from '@react-native-async-storage/async-storage'\nexport const ApplicationStorageKey = 'byos/application'\nexport const DomainStorageKey = 'byos/domain'\n\nconst storeData: (value: any) => Promise<void> = async (value: any) => {\n  try {\n    await AsyncStorage.setItem(ApplicationStorageKey, JSON.stringify(value))\n  } catch (e) {\n    // saving error\n  }\n}\n\nconst getData: () => Promise<string> = async () => {\n  try {\n    const value = await AsyncStorage.getItem(ApplicationStorageKey)\n    if (value !== null) {\n      // value previously stored\n      return value\n    }\n  } catch (e) {\n    // error reading value\n  }\n  return ''\n}\n\nconst parseJson: (jsonString: string) => any = (jsonString: string) => {\n  try {\n    return JSON.parse(jsonString)\n  } catch (error) {\n    return {}\n  }\n}\n\nexport const getApplicationStateLS: (defaultValue: string) => Promise<any> = async (defaultValue: string = '{}') => {\n  const value = await getData()\n  if (value) {\n    return parseJson(value)\n  }\n  return parseJson(defaultValue)\n}\n\n// eslint-disable-next-line @typescript-eslint/no-misused-promises\nexport const setApplicationStateLS: (value: Object) => void = async (value: any) => {\n  await storeData(value)\n  return null\n}\n","import React, { useEffect, useState } from 'react'\r\n\r\n// import { HashRouter as Router, Routes, Route } from 'react-router-dom'\r\nimport { InternalRouteDef } from './routes'\r\n// import { Link } from 'react-router-dom'\r\nimport { RoutingContext } from './contexts/routing/RoutingContext'\r\nimport {\r\n  ApplicationContext,\r\n  initialData\r\n} from './contexts/application/ApplicationContext'\r\n/* import {\r\n    getApplicationStateLS,\r\n    setApplicationStateLS,\r\n} from './services/localstorage' */\r\n\r\nimport { Provider as PaperProvider } from 'react-native-paper'\r\nimport Header from './components/Header'\r\nimport MobileNavigation from './components/MobileNavigation'\r\nimport { setApplicationStateLS } from './services/localstorage'\r\nimport { useGetApplicationStateFromLs } from './hooks/useGetApplicationStateFromLS'\r\nimport { PortalProvider } from '@gorhom/portal'\r\n\r\nfunction App (): JSX.Element {\r\n  const [routingState] = React.useContext(RoutingContext)\r\n  const { data: savedApplicationData, isLoaded } = useGetApplicationStateFromLs(initialData)\r\n\r\n  const applicationState = useState(savedApplicationData)\r\n\r\n  /* useEffect(() => {\r\n        applicationState[1](savedApplicationData);\r\n    }, [savedApplicationData]) */\r\n\r\n  const [applicationStateData, setApplicationStateData] = applicationState\r\n\r\n  useEffect(() => {\r\n    // setApplicationStateLS({ ...applicationStateData })\r\n    setApplicationStateData(savedApplicationData)\r\n  }, [savedApplicationData])\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      console.log('[App] Application state was updated = ', applicationStateData)\r\n\r\n      setApplicationStateLS({ ...applicationStateData })\r\n    }\r\n  }, [applicationStateData, isLoaded])\r\n\r\n  return (\r\n    <PaperProvider>\r\n      <PortalProvider>\r\n        <ApplicationContext.Provider value={applicationState}>\r\n          {routingState.isReady &&\r\n            routingState.routes.map((route: InternalRouteDef) => {\r\n              return (\r\n                null\r\n              )\r\n            })}\r\n\r\n          <Header title=\"BYOS\" />\r\n          <MobileNavigation />\r\n\r\n        </ApplicationContext.Provider>\r\n      </PortalProvider>\r\n    </PaperProvider>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import { useMemo, useState } from 'react'\nimport { ApplicationState } from '../contexts/application/ApplicationContext'\nimport { getApplicationStateLS } from '../services/localstorage'\n\ninterface ApplicationStateHookReturn {\n  data: ApplicationState | undefined\n  isLoaded: boolean\n}\n\nexport const useGetApplicationStateFromLs = (initialData: ApplicationState | undefined): ApplicationStateHookReturn => {\n  const [d, setD] = useState<ApplicationState | undefined>(initialData)\n  const [isLoaded, setIsLoaded] = useState(false)\n  useMemo(() => {\n    getApplicationStateLS(\n      JSON.stringify(initialData)\n    ).then(data => {\n      setD(data)\n      setIsLoaded(true)\n    })\n      .catch(() => {\n        console.log('[useGetApplicationStateFromLs] Promise failure getApplicationStateLS')\n      })\n  }, [initialData])\n\n  return { data: d, isLoaded }\n}\n","import React from 'react'\r\nimport Home from '../pages/home'\r\nimport Credentials from '../pages/credentials'\r\n\r\nexport interface InternalRouteDef {\r\n  path: string\r\n  component: JSX.Element\r\n  showInNavigation: boolean\r\n\r\n}\r\n\r\nexport interface RoutingObjectDef {\r\n  isReady: boolean\r\n  routes: InternalRouteDef\r\n}\r\n\r\nconst routes: InternalRouteDef[] = [\r\n  { path: '/credentials', component: <Credentials />, showInNavigation: true },\r\n  { path: '/', component: <Home />, showInNavigation: true }\r\n]\r\n\r\nconst internalRoutes = {\r\n  isReady: false,\r\n  routes\r\n}\r\n\r\nexport default internalRoutes\n","import React from 'react'\r\n// import { useLinkClickHandler } from 'react-router-dom'\r\nimport { SaveCredentialsForm } from '../../components/SaveCredentialsForm'\r\n// import { useNavigate } from 'react-router-dom'\r\n\r\nexport default function Credentials (): JSX.Element {\r\n  // const [isOpen, setIsOpen] = useState(false)\r\n  // const navigate = useNavigate()\r\n  // const onClick = useLinkClickHandler('/credentials')\r\n  // useEffect(() => {\r\n  //     setIsOpen(true)\r\n  // }, [onClick, setIsOpen])\r\n\r\n  // const handleClose = () => {\r\n  //     setIsOpen(false)\r\n  //     navigate('/')\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      <SaveCredentialsForm />\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\n\nexport default function Home (): JSX.Element {\n  return (\n    <>\n    </>\n  )\n}\n","import React, { useEffect } from 'react'\r\nimport { RoutingContext } from '../contexts/routing/RoutingContext'\r\n\r\nexport const BasicProvider: (children: any) => JSX.Element = ({ children }: React.PropsWithChildren) => {\r\n  const [routingState, setRoutingState] = React.useContext(RoutingContext)\r\n  useEffect(() => {\r\n    if (routingState.isReady === false) {\r\n      setRoutingState({ ...routingState, isReady: true })\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [routingState.isReady, routingState.routes])\r\n  return <>\r\n    {children}\r\n  </>\r\n}\r\n","import React from 'react'\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query'\n\nconst queryClient = new QueryClient()\n\nexport default function QueryProvider ({ children }: React.PropsWithChildren): JSX.Element {\n  return (\n    <QueryClientProvider client={queryClient}>\n      {children}\n    </QueryClientProvider>\n  )\n}\n","import React, { useState } from 'react'\r\nimport { RoutingContext } from '../contexts/routing/RoutingContext'\r\nimport routes from '../routes'\r\nimport { BasicProvider } from './BasicProvider'\r\nimport QueryProvider from './QueryProvider'\r\n\r\nexport const Provider = ({ children }: React.PropsWithChildren): JSX.Element => {\r\n  const routingState = useState(routes)\r\n\r\n  /**\r\n       if (useAzureLogin) {\r\n          return <QueryProvider>\r\n              <RoutingContext.Provider value={routingState}>\r\n                  <AzureAdProvider >\r\n                      {children}\r\n                  </AzureAdProvider>\r\n              </RoutingContext.Provider>\r\n          </QueryProvider>\r\n      }else\r\n      { */\r\n  return (\r\n        <QueryProvider>\r\n            <RoutingContext.Provider value={routingState}>\r\n                <BasicProvider>\r\n                    {children}\r\n                </BasicProvider>\r\n            </RoutingContext.Provider>\r\n        </QueryProvider>)\r\n}\r\n","import React from 'react'\nimport BAap from './App'\nimport { Provider } from './providers/Provider'\n\nconst ExportApp: React.FC = () => {\n  return (\n    <Provider>\n      <BAap />\n    </Provider>\n  )\n}\n\nexport default ExportApp\n","import { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View } from 'react-native';\nimport BYOSApp from \"./src/ExportApp\";\nimport { registerRootComponent } from 'expo';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\nexport default function App() {\n  return (\n      <BYOSApp/>\n  );\n}\nregisterRootComponent(App);\n\n\n\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}