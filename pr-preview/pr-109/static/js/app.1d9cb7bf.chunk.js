(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{356:function(e,t,n){e.exports=n(466)},382:function(e,t){},384:function(e,t){},407:function(e,t){},422:function(e,t){},466:function(e,t,n){"use strict";n.r(t);var r=n(515),o=(n(468),n(4)),i=n(1),c=n.n(i),a=n(5),l=n.n(a),s=n(7),u=n.n(s),d=n(16),f=n(6),j=n(504),b=n(503),p=n(41),O=n(82),h=n(517),g=n(73),m={s3credentials:{apiKey:void 0,apiSecret:void 0,region:void 0,endpoint:void 0,bucket:void 0},backblaze:{authorizationToken:"",downloadUrl:"",s3ApiUrl:""},s3client:void 0,otherStuff:"",mutatedAt:void 0},y=Object(i.createContext)(Object.create(null)),x=n(511),v=n(10),w=n.n(v),P=n(157),S=n(24),k=n.n(S),C=n(506),D=n(490),E=n(491),B=n(492),F=n(493),R=n(494),A=n(484),I=n(495),N=n(496),z=n(337),M=(n(365),n(377),n(336)),K=n(467).getSignedUrl,T=function(e){var t=e.credentials,n=e.region,r=e.endpoint,o=new C.S3Client({region:n,credentials:t,endpoint:r,bucketEndpoint:!1,forcePathStyle:!0});return o.middlewareStack.add((function(e,t){return function(){var t=w()((function*(t){return yield e(t)}));return function(e){return t.apply(this,arguments)}}()}),{step:"finalizeRequest",name:"removeHeaders"}),o},H=function(){var e=w()((function*(e,t){var n,r,o=new D.ListObjectsCommand(t),i=yield e.send(o),c=(null==(n=i.CommonPrefixes)?void 0:n.map((function(e){return{prefix:e.Prefix,etag:void 0,name:e.Prefix,lastModified:void 0,size:0,key:e.Prefix}})))||[],a=(null==(r=i.Contents)?void 0:r.map((function(e){return{prefix:"",etag:e.ETag,name:null==e?void 0:e.Key,lastModified:null==e?void 0:e.LastModified,size:null==e?void 0:e.Size,key:e.Key}})))||[];return[].concat(k()(c),k()(a))}));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=w()((function*(e,t){try{var n=yield e.send(new E.CopyObjectCommand(t));return console.log("updated asset",n),n}catch(r){console.log("Error",r)}}));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=w()((function*(e,t){try{return yield e.send(new B.DeleteObjectCommand(t))}catch(n){console.log("Error",n)}}));return function(t,n){return e.apply(this,arguments)}}(),U=(function(){var e=w()((function*(e,t,n){try{var r={Bucket:t,Delete:{Objects:n.map((function(e){return{Key:e.Key}}))}};return yield e.send(new F.DeleteObjectsCommand(r))}catch(o){console.log("Error",o)}}))}(),function(){var e=w()((function*(e,t){var n=new R.GetObjectCommand(t);return yield e.send(n)}));return function(t,n){return e.apply(this,arguments)}}()),V=function(){var e=w()((function*(e,t){var n=new R.GetObjectCommand(t);return yield K(e,n,{expiresIn:3600})}));return function(t,n){return e.apply(this,arguments)}}(),G=(function(){var e=w()((function*(e,t){var n=new R.GetObjectCommand(t),r=yield e.config.endpoint();n.middlewareStack.add((function(e){return function(){var e=w()((function*(e){var n=e.request,o=n.headers,i=n.path,c=r.hostname,a=r.protocol;return fetch(a+"//"+c+"/"+t.Bucket+i,{headers:o}).then((function(e){console.log("Response = ",e)})),new Promise((function(e,t){return t(new Error("Intentional Failure"))}))}));return function(t){return e.apply(this,arguments)}}()}),{step:"finalizeRequest",name:"rH"});try{yield e.send(n)}catch(o){}}))}(),function(){var e=w()((function*(e,t,n,r){var o={Key:t,Bucket:n};r&&(o.Body=r);var i=new C.S3Client({credentials:e.config.credentials,region:e.config.region,endpoint:e.config.endpoint,bucketEndpoint:e.config.bucketEndpoint,forcePathStyle:e.config.forcePathStyle}),c=new A.PutObjectCommand(o);return yield i.send(c)}))}(),function(){var e=w()((function*(e,t,n,r,o){var i={Key:t,Bucket:n};o&&(i.Body=o);var c=new z.XhrHttpHandler({}),a=new C.S3Client({credentials:e.config.credentials,region:e.config.region,endpoint:e.config.endpoint,bucketEndpoint:e.config.bucketEndpoint,forcePathStyle:e.config.forcePathStyle,requestHandler:c}),l=new A.PutObjectCommand(i);return c.on("xhr.upload.progress",(function(e){r(Math.round(e.loaded/e.total*100))})),yield a.send(l)}));return function(t,n,r,o,i){return e.apply(this,arguments)}}()),_=(function(){var e=w()((function*(e,t,n,r){try{console.log("Uploading file with progress");var o=new M.Upload({client:e,params:{Bucket:n,Key:t,Body:r},tags:[],leavePartsOnError:!1});o.on("httpUploadProgress",(function(e){console.log("Progress = ",e)})),yield o.done()}catch(i){console.log(i)}}))}(),function(){var e=w()((function*(e,t,n){var r={Key:t,Bucket:n},o=new I.HeadObjectCommand(r);return yield e.send(o)}));return function(t,n,r){return e.apply(this,arguments)}}()),J=(function(){var e=w()((function*(e,t){t.CORSConfiguration.CORSRules.push({ID:"allaccess",AllowedHeaders:[""],AllowedMethods:[""],AllowedOrigins:[""],MaxAgeSeconds:3600,ExposeHeaders:["x-bz-content-sha1"]});var n=new N.PutBucketCorsCommand(t);return yield e.send(n)}))}(),n(338)),q=n(497),Y=n(507),Q=n(3),$=o.default.create({textInput:{marginTop:20}}),X=function(e){var t=e.control,n=e.name,r=e.label;return void 0===t?null:Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(P.Controller,{control:t,name:n,render:function(e){var t=e.field,o=t.value,i=t.onChange,c=t.onBlur;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(Y.default,{label:r,value:o,onChangeText:function(e){console.log("[InputChange] name = ",n," value = ",e),i(e)},onBlur:c,style:$.textInput})})}})})},Z=n(189),ee=n(296);function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var re=function(){var e=Object(i.useContext)(y),t=u()(e,2),n=t[0],r=t[1],a=n.s3credentials,l=Object(P.useForm)({defaultValues:a}),s=l.control,j=l.handleSubmit,b=l.getValues,O=l.reset;Object(i.useEffect)((function(){O(a)}),[a]);var h=Object(i.useState)(!1),g=u()(h,2)[1],m=function(){var e=w()((function*(){C();var e=b();r(ne(ne({},n),{},{s3credentials:e,s3client:void 0})),g(!0),setTimeout((function(){g(!1)}),1e3);var t=T({credentials:{accessKeyId:e.apiKey,secretAccessKey:e.apiSecret},region:e.region,endpoint:e.endpoint});H(t,{Bucket:"testinghumza"}).catch((function(){console.log("[SaveCredentialsForm] Promise failure getAssets")}))}));return function(){return e.apply(this,arguments)}}(),x=c.a.useState(!1),v=u()(x,2),S=v[0],k=v[1],C=function(){return k(!S)},D=o.default.create({container:{flex:1},inner:{padding:24,flex:1,justifyContent:"space-around"},header:{fontSize:36,marginBottom:48},textInput:{height:40,borderColor:"#000000",borderBottomWidth:1,marginBottom:36},snackBarContainer:{flex:1,justifyContent:"space-between"}});return Object(Q.jsxs)(ee.default,{behavior:"ios"===d.default.OS?"padding":"height",style:D.container,children:[Object(Q.jsxs)(J.default,{children:[Object(Q.jsxs)(J.default.Content,{children:[Object(Q.jsx)(p.default,{variant:"headlineSmall",children:"API Configuration"}),Object(Q.jsx)(X,{control:s,name:"apiKey",label:"API KEY"}),Object(Q.jsx)(X,{control:s,name:"apiSecret",label:"Api Secret"}),Object(Q.jsx)(X,{control:s,name:"endpoint",label:"Endpoint"}),Object(Q.jsx)(X,{control:s,name:"bucket",label:"Bucket"}),Object(Q.jsx)(X,{control:s,name:"region",label:"Region"})]}),Object(Q.jsx)(J.default.Actions,{children:Object(Q.jsx)(Z.default,{onPress:j(m),children:"Submit"})})]}),Object(Q.jsx)(f.default,{style:D.snackBarContainer,children:Object(Q.jsx)(q.default,{visible:S,onDismiss:function(){return k(!1)},action:{label:"Dismiss",onPress:function(){}},children:"Credentials are saved!"})})]})},oe=function(){return Object(Q.jsx)(re,{})},ie=n(502),ce=n(513),ae=n(516),le=n(498),se=function(e,t){return e.map((function(e){var n,r=e.name.replace(t.Prefix,"");return{assetId:e.etag,fileName:r,fileSize:e.size,updatedAt:e.lastModified,isFolder:(null==(n=e.prefix)?void 0:n.length)>0,prefix:e.prefix,etag:e.etag,key:e.key}}))},ue=function(e){var t=e.s3credentials,n=t.apiKey,r=t.apiSecret,o=t.region,c=t.endpoint,a=Object(i.useMemo)((function(){return n&&r&&c?[T({region:o,credentials:{accessKeyId:n,secretAccessKey:r},endpoint:c}),!0]:[void 0,!1]}),[n,r,o,c]),l=u()(a,2);return[l[0],l[1]]},de=n(66),fe=n(509),je=n(167),be=n(77),pe=n(500),Oe=n(13),he=n.n(Oe),ge=n(169),me=n(211),ye=n.n(me),xe=n(305),ve=n.n(xe),we=n(499),Pe=n(512),Se=function(){return Object(Q.jsx)(Q.Fragment,{})},ke=function(e){switch(e){case"png":case"jpeg":case"jpg":return"image";default:return"file"}},Ce=["indeterminate","className"];function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}ye.a.extend(ve.a);var Ee=o.default.create({icon:{},filename:{}}),Be=function(e){var t=e.isFolder?"folder":/(?:\.([^.]+))?$/.exec(e.fileName)[1]||"",n=e.fileName.split(".").pop();switch(t){case"folder":return Object(Q.jsx)(we.default,{name:"folder",color:"#ffbd43",size:22,style:Ee.icon});default:return Object(Q.jsx)(we.default,{name:ke(n),color:"#6565d6",size:22,style:Ee.icon})}},Fe=function(e){var t=e.indeterminate,n=(e.className,he()(e,Ce)),r=c.a.useRef(null);return c.a.useEffect((function(){"boolean"===typeof t&&r.current&&(r.current.indeterminate=!n.checked&&t)}),[r,t]),Object(Q.jsx)(Pe.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({status:n.checked?"checked":"unchecked",onPress:function(){return n.onChange()},ref:r},n))},Re=function(){var e=Object(de.createColumnHelper)();return[e.accessor("select",{id:"select",header:function(e){e.table;return Object(Q.jsx)(Q.Fragment,{})},cell:function(e){var t=e.row;return Object(Q.jsx)(Fe,{checked:t.getIsSelected(),indeterminate:t.getIsSomeSelected(),onChange:t.toggleSelected})}}),e.accessor("fileName",{id:"fileName",header:"Name",cell:function(e){var t=e.row.original,n=t.isFolder?e.getValue().slice(0,-1):e.getValue();return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(p.default,{style:Ee.filename,children:[Be(t)," \xa0",n]})})}}),e.accessor("fileSize",{id:"fileSize",header:"Size",cell:function(e){return Object(Q.jsx)(p.default,{children:!e.row.original.isFolder&&Object(ge.default)(e.getValue())})}}),e.accessor("updatedAt",{id:"updatedAt",header:"Last Modified",cell:function(e){return Object(Q.jsx)(p.default,{children:!e.row.original.isFolder&&ye()(e.getValue()).fromNow()})}}),e.display({id:"actions",cell:function(){return Object(Q.jsx)(Se,{})}})].filter((function(e){return"web"===d.default.OS||"fileName"===e.id}))},Ae=n(44),Ie=function(e){return e<576?"xs":e>=576&&e<768?"md":e>=768&&e<992?"lg":e>=992&&e<1200?"xl":e>=1200?"xxl":void 0},Ne=Ae.default.get("window"),ze=Ie(Ne.width),Me=function(){var e=Object(i.useState)(ze),t=u()(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){var e=Ae.default.addEventListener("change",(function(e){var t=e.window,n=(e.screen,Ie(t.width));r(n)}));return function(){return null==e?void 0:e.remove()}}),[]),n},Ke=o.default.create({tableHead:{height:"auto"},sorterIcon:{marginLeft:"10px"},cell:{},cellFirstChild:{flexBasis:"50%"},title:{display:"flex",alignItems:"center"}}),Te=function(e){var t=e.assets,n=e.onPress,r=e.isLoading,o=e.deleteAssets,a=c.a.useState((function(){return t||[]})),l=u()(a,2),s=l[0],d=l[1],f=c.a.useState([]),j=u()(f,2),b=j[0],O=j[1],h=Object(i.useState)(Re()),m=u()(h,2),y=m[0],x=m[1],v=Object(i.useState)(1),w=u()(v,2),P=w[0],S=w[1],k=Me();Object(i.useMemo)((function(){!function(){var e=Ae.default.get("window");return["xs"].includes(Ie(e.width))}()?x(Re()):x(Re().filter((function(e){return"fileName"===e.id})))}),[k]),Object(i.useEffect)((function(){C.resetRowSelection(),d(t||[]),S(1)}),[null==t?void 0:t.map((function(e){return e.key})).join(",")]);var C=Object(de.useReactTable)({data:s,columns:y,state:{sorting:b},onSortingChange:O,getCoreRowModel:Object(de.getCoreRowModel)(),getSortedRowModel:Object(de.getSortedRowModel)(),getPaginationRowModel:Object(de.getPaginationRowModel)()}),D=C.getSelectedRowModel().rows;Object(i.useEffect)((function(){C.setPageSize(20*P)}),[P]);var E=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(e){case"select":return t?{maxWidth:50,position:"relative",top:-3}:{maxWidth:50};case"fileName":return{flexBasis:"50%"};case"fileSize":return{justifyContent:"end",marginRight:30};default:return{}}};return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(g.Portal,{hostName:"listassetsheader",children:(null==D?void 0:D.length)>0&&Object(Q.jsx)(ce.default,{icon:"delete",value:"delete",onPress:function(){o(D.map((function(e){return e.original})))}})}),Object(Q.jsx)(fe.default.Header,{style:Ke.tableHead,children:C.getHeaderGroups().map((function(e){return Object(Q.jsx)(i.Fragment,{children:e.headers.map((function(e,t){var n;return Object(Q.jsx)(fe.default.Title,{style:E(e.id,!0),children:e.isPlaceholder?null:Object(Q.jsxs)(p.default,{onClick:e.column.getToggleSortingHandler(),children:[Object(de.flexRender)(e.column.columnDef.header,e.getContext()),null!=(n={asc:Object(Q.jsx)(pe.default,{name:"arrowup",style:Ke.sorterIcon}),desc:Object(Q.jsx)(pe.default,{name:"arrowdown",style:Ke.sorterIcon})}[e.column.getIsSorted()])?n:null]})},e.id)}))},e.id)}))}),Object(Q.jsx)(be.default,{onScroll:function(e){(function(e){var t=e.layoutMeasurement,n=e.contentOffset,r=e.contentSize;return t.height+n.y>=r.height-20})(e.nativeEvent)&&(console.log("[Scroll] Scroll close to bottom"),S(P+1))},children:Object(Q.jsxs)(fe.default,{children:[r&&Object(Q.jsx)(je.default,{animating:!0}),C.getRowModel().rows.map((function(e){return Object(Q.jsx)(fe.default.Row,{onPress:function(){n(e.original)},children:e.getVisibleCells().map((function(e,t){return Object(Q.jsx)(fe.default.Cell,{style:E(e.column.id),children:Object(de.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})),Object(Q.jsx)(fe.default.Pagination,{page:C.getState().pagination.pageIndex+1,numberOfPages:C.getPageCount(),onPageChange:function(e){return C.setPageIndex(e-1)},label:C.getState().pagination.pageIndex+1+" of "+C.getPageCount()})]})})]})},He=n(340),Le=n(310),We=o.default.create({centeredView:{justifyContent:"center",alignItems:"center"},modalView:{backgroundColor:"white",borderRadius:20,padding:30,alignItems:"center"},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),Ue=function(e){var t=e.isVisible,n=e.onClose,r=e.children;return t?Object(Q.jsx)(He.default,{children:Object(Q.jsx)(Le.default,{visible:t,onDismiss:n,children:Object(Q.jsx)(f.default,{style:We.centeredView,children:Object(Q.jsx)(f.default,{style:We.modalView,children:r})})})}):null},Ve=["children","isUnderlined"];function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Je=function(e){var t=e.children,n=e.isUnderlined,r=he()(e,Ve);return Object(Q.jsx)(p.default,_e(_e({},r),{},{style:n?[qe.underline]:[],children:t}))},qe=o.default.create({underline:{textDecorationLine:"underline"}}),Ye=n(314),Qe=Object(i.createContext)(Object.create({})),$e=n(216),Xe=function(){var e=w()((function*(e){return(yield Object($e.default)({method:"GET",url:"https://api.backblazeb2.com/b2api/v2/b2_authorize_account",headers:{Accept:"application/json",Authorization:"Basic "+e}})).data}));return function(t){return e.apply(this,arguments)}}(),Ze=(function(){var e=w()((function*(e,t,n){return(yield Object($e.default)({method:"POST",url:"https://api.backblazeb2.com/b2api/v2/b2_get_download_authorization",headers:{Accept:"application/json",Authorization:"Basic "+e},data:{bucketId:t,fileNamePrefix:n,validDurationInSeconds:86400}})).data}))}(),function(){var e=w()((function*(e){var t=e.s3credentials,n=t.apiKey,r=t.apiSecret,o=btoa(n+":"+r);return yield Xe(o)}))}(),function(){var e=w()((function*(e,t,n,r){return e.s3credentials.endpoint.toLowerCase().includes("backblazeb2")?yield V(n,{Key:r,Bucket:e.s3credentials.bucket}):yield V(e.s3client,{Key:r,Bucket:e.s3credentials.bucket})}));return function(t,n,r,o){return e.apply(this,arguments)}}());function et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?et(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nt=function(e){var t=e.asset,n=e.onClose,r=(e.prefix,Object(i.useContext)(y)),o=u()(r,2),c=o[0],a=o[1],l=c.s3credentials,s=Object(i.useContext)(Qe),d=u()(s,1)[0],j=Object(i.useState)(!1),b=u()(j,2),h=b[0],g=b[1],m=Object(i.useState)(t),x=u()(m,2),v=x[0],P=x[1],S=Object(i.useState)(t.fileName),k=u()(S,2),C=k[0],D=k[1],E=ue(c),B=u()(E,1)[0],F=Me(),R=Object(i.useState)(!1),A=u()(R,2),I=A[0],N=A[1];Object(i.useEffect)((function(){P(t)}),[t]);var z=function(){var e=w()((function*(){N(!0),g(!1),P((function(e){return tt(tt({},e),{},{fileName:C})})),yield L(B,{Bucket:l.bucket,Key:t.key.replace(t.fileName,C),CopySource:l.bucket+"/"+t.key}),yield W(B,{Key:t.key,Bucket:l.bucket}),a(tt(tt({},c),{},{mutatedAt:new Date})),n()}));return function(){return e.apply(this,arguments)}}(),M=function(){var e=w()((function*(){N(!0);var e={Bucket:l.bucket,Key:v.key};yield W(B,e),a(tt(tt({},c),{},{mutatedAt:new Date})),n()}));return function(){return e.apply(this,arguments)}}(),K=function(){var e=w()((function*(){var e=yield Ze(c,a,B,t.key),n=document.createElement("a");n.href=e,n.download=t.key,n.style.display="none",document.body.appendChild(n),n.click(),n.remove()}));return function(){return e.apply(this,arguments)}}();return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(f.default,{style:["xs","md"].includes(F)?[rt.mainMobile]:[rt.main],children:[Object(Q.jsx)(O.default,{theme:d,icon:"close",onPress:n,style:rt.closeButton}),Object(Q.jsxs)(f.default,{style:["xs","md"].includes(F)?[rt.section2Mobile,rt.centered]:[rt.section2,rt.centered],children:[Object(Q.jsx)(p.default,{variant:"headlineSmall",style:[rt.textCenter,rt.marginBottom],children:Object(Q.jsx)(we.default,{theme:d,name:"file",size:100})}),Object(Q.jsx)(p.default,{variant:"headlineSmall",style:rt.textCenter,children:h?Object(Q.jsx)(Y.default,{value:h?C:null==v?void 0:v.fileName,onChangeText:function(e){return D(e)}}):null==v?void 0:v.fileName}),Object(Q.jsx)(p.default,{children:Object(ge.default)(t.fileSize)}),Object(Q.jsxs)(f.default,{style:[rt.centered,rt.horizontal],children:[h?Object(Q.jsx)(O.default,{theme:d,icon:"check",onPress:z}):Object(Q.jsx)(O.default,{theme:d,icon:"pencil",onPress:function(){return g(!0)}}),Object(Q.jsx)(O.default,{theme:d,icon:"trash-can",onPress:M}),Object(Q.jsx)(O.default,{theme:d,icon:"download",onPress:K}),I&&Object(Q.jsx)(Ye.default,{})]})]})]})})},rt=o.default.create({mainMobile:{backgroundColor:"rgb(242, 242, 242)"},main:{display:"flex",flexGrow:1},closeButton:{display:"flex",textAlign:"right",height:50},marginBottom:{marginBottom:10},textCenter:{textAlign:"center"},centered:{justifyContent:"center",alignItems:"center"},horizontal:{flexDirection:"row"},section2:{minWidth:"30vw",flex:1,flexGrow:1,margin:20},section2Mobile:{backgroundColor:"rgb(242, 242, 242)",minWidth:"100vw",flex:1,flexGrow:1,margin:20}}),ot=n(186),it=n(62),ct=n(177),at=["png","jpeg","jpg"],lt=function(e){var t=e.item,n=e.onPress,r=e.s3client,o=e.s3Initialized,c=e.appState,a=Object(i.useState)(),l=u()(a,2),s=l[0],d=l[1],f=Object(i.useState)(void 0),j=u()(f,2),b=j[0],O=j[1],h=Object(i.useState)(!1),g=u()(h,2),m=g[0],y=g[1],x=Object(i.useState)(!1),v=u()(x,2)[1],w=t.fileName.split(".").pop(),P=at.includes(w),S=t.isFolder?"folder":ke(w),k=t.fileSize<1e6;Object(i.useEffect)((function(){t.isFolder||P&&k&&(v(!0),U(r,{Key:t.key,Bucket:c.s3credentials.bucket}).then((function(e){var t;(t=e.Body,new Response(t,{})).blob().then((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e=t.result;d(e),y(!0)}})).catch((function(e){O(e)}))})).catch((function(e){O(e)})))}),[o]);return Object(Q.jsxs)(ct.default,{onPress:function(){n(t)},children:[P&&k?m&&!b?Object(Q.jsx)(it.default,{source:{uri:s.toString()},style:st.preview}):Object(Q.jsx)(we.default,{name:"alert-triangle",size:100,style:st.errorIcon}):Object(Q.jsx)(we.default,{name:S,size:100,style:st.icon}),Object(Q.jsx)(p.default,{style:st.fileName,onPress:function(){n(t)},children:t.fileName})]})},st=o.default.create({preview:{width:"100%",height:200},icon:{marginTop:20},wrapper:{},fileName:{bottom:0,textAlign:"center"},errorIcon:{color:"red"}}),ut=function(e){var t=e.item,n=e.onPress,r=t.fileName.split(".").pop(),o=t.isFolder?"folder":ke(r);return Object(Q.jsxs)(ct.default,{onPress:function(){n(t)},children:[Object(Q.jsx)(we.default,{name:o,size:100,style:dt.icon}),Object(Q.jsx)(p.default,{style:dt.fileName,onPress:function(){n(t)},children:t.fileName})]})},dt=o.default.create({icon:{marginTop:20},wrapper:{},fileName:{bottom:0,textAlign:"center"},errorIcon:{color:"red"}}),ft=function(e){var t=e.item,n=e.onPress,r=e.s3client,o=e.s3Initialized,i=e.appState,c=t.fileName.split(".").pop();return Object(Q.jsx)(f.default,{style:jt.item,children:function(){switch(c){case"png":case"jpeg":case"jpg":return Object(Q.jsx)(lt,{item:t,onPress:n,s3client:r,s3Initialized:o,appState:i});default:return Object(Q.jsx)(ut,{item:t,onPress:n})}}()})},jt=o.default.create({item:{marginVertical:8,marginHorizontal:16,height:200,display:"flex",flex:1,overflow:"hidden",textAlign:"center"}}),bt=o.default.create({cell:{flexBasis:"auto",minWidth:"105px",paddingRight:"15px"},cellFirstChild:{flexBasis:"78%"},title:{display:"flex",alignItems:"center"},columnWrapperStyle:{display:"flex"}}),pt=function(e){var t=e.assets,n=e.onPress,r=e.isLoading,o=Object(i.useContext)(y),a=u()(o,1)[0],l=ue(a),s=u()(l,2),d=s[0],j=s[1],b=c.a.useState((function(){return t||[]})),p=u()(b,2),O=p[0],h=p[1],g=Object(i.useState)(1),m=u()(g,2),x=m[0],v=m[1],w=Object(i.useState)(4),P=u()(w,2),S=P[0],k=P[1],C=Me();Object(i.useMemo)((function(){["xs","md"].includes(C)?k(3):k(4)}),[C]),Object(i.useEffect)((function(){h(t||[]),v(1)}),[t]);var D=Object(de.useReactTable)({data:O,columns:Ot(),getCoreRowModel:Object(de.getCoreRowModel)(),getPaginationRowModel:Object(de.getPaginationRowModel)()}),E=D.getRowModel().flatRows.map((function(e){return e.original}));Object(i.useEffect)((function(){D.setPageSize(20*x)}),[x]);return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsxs)(be.default,{onScroll:function(e){(function(e){var t=e.layoutMeasurement,n=e.contentOffset,r=e.contentSize;return t.height+n.y>=r.height-20})(e.nativeEvent)&&(console.log("[Scroll] Scroll close to bottom"),v(x+1))},children:[r&&Object(Q.jsx)(je.default,{animating:!0}),Object(Q.jsxs)(f.default,{children:[Object(Q.jsx)(ot.default,{columnWrapperStyle:bt.columnWrapperStyle,numColumns:S,data:E,renderItem:function(e){var t=e.item;return Object(Q.jsx)(ft,{item:t,onPress:n,s3client:d,s3Initialized:j,appState:a})},keyExtractor:function(e){return e.fileName}},"flatlistassets-"+S),Object(Q.jsx)(Q.Fragment,{})]})]})})},Ot=function(){return[Object(de.createColumnHelper)().accessor("fileName",{id:"fileName",header:"Name",cell:function(e){return Object(Q.jsx)(Q.Fragment,{})}})]},ht=n(343),gt=n(510),mt=o.default.create({dialog:{width:250,left:"39%"}}),yt=function(e){var t=e.showOverwite,n=e.onOverwrite,r=e.onSkip;return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(He.default,{children:Object(Q.jsxs)(gt.default,{visible:t,style:mt.dialog,dismissable:!1,children:[Object(Q.jsx)(gt.default.Title,{children:"Alert"}),Object(Q.jsx)(gt.default.Content,{children:Object(Q.jsx)(p.default,{children:Object(Q.jsx)(Q.Fragment,{children:"File already exists, do you want to overwrite"})})}),Object(Q.jsxs)(gt.default.Actions,{children:[Object(Q.jsx)(Z.default,{onPress:function(){r()},children:"Skip"}),Object(Q.jsx)(Z.default,{onPress:function(){n()},children:"Yes"})]})]})})})},xt=o.default.create({wrapper:{display:"flex"}}),vt=function(e){var t=e.file,n=e.s3client,r=e.prefix,o=e.s3credentials,c=e.onSuccess,a=e.onError,l=i.useState(0),s=u()(l,2),d=s[0],j=s[1],b=i.useState(!1),O=u()(b,2),h=O[0],g=O[1],m=function(e){G(n,r+e.name,o.bucket,(function(e){j(e)}),e).then((function(){c()})).catch((function(){a()}))};return i.useEffect((function(){_(n,r+t.name,o.bucket).then((function(e){g(!0)})).catch((function(){m(t)}))}),[]),Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(f.default,{style:xt.wrapper,children:Object(Q.jsxs)(p.default,{children:["Uploading ",t.name," : ",d,"%"]})}),Object(Q.jsx)(yt,{onOverwrite:function(){m(t),g(!1)},onSkip:function(){c(),g(!1)},showOverwite:h})]})},wt=o.default.create({snackbarcontainer:{left:"-45%"},snackbarinner:{backgroundColor:"grey",width:250,height:50},snackbartext:{color:"white"},uploadcontainer:{padding:10,flexDirection:"row"},activityindicator:{marginLeft:5},dialog:{width:250,left:"39%"}}),Pt=function(e){var t=e.appState,n=e.s3client,r=e.prefix,o=e.doReload,c=e.doCloseModal,a=t.s3credentials,l=Object(i.useState)(!1),s=u()(l,2)[1],j=Object(i.useState)(void 0),b=u()(j,2),h=b[0],g=b[1];return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(p.default,{children:["Upload location : ",r]}),Object(Q.jsxs)(f.default,{style:wt.uploadcontainer,children:[h&&Array.from(h).map((function(e){return Object(Q.jsx)(vt,{prefix:r,file:e,s3credentials:a,s3client:n,onSuccess:function(){o(),c()},onError:function(){}})})),Object(Q.jsx)(O.default,{icon:"cloud-upload",onPress:w()((function*(){var e=yield ht.getDocumentAsync({multiple:!0});s(!0);var t=null==e?void 0:e.output;if(g(t),"ios"===d.default.OS){var n=yield fetch(e.uri);t=[yield n.blob()]}}))})]})]})},St=function(e){var t=e.appState,n=e.s3client,r=e.prefix,o=e.doReload,i=e.doCloseModal,a=c.a.useState(""),l=u()(a,2),s=l[0],d=l[1],j=function(){var e=w()((function*(){var e=s;yield G(n,r+e+"/",t.s3credentials.bucket),o(),i()}));return function(){return e.apply(this,arguments)}}();return Object(Q.jsxs)(f.default,{children:[Object(Q.jsx)(p.default,{children:"Create Folder"}),Object(Q.jsx)(Y.default,{label:"Name",value:s,onChangeText:function(e){return d(e)}}),Object(Q.jsx)(Z.default,{icon:"folder",mode:"contained",style:kt.ButtonWrapper,onPress:function(){j().catch((function(e){console.log("[CreateFolder] Exception = ",e)}))},children:"Save"})]})},kt=o.default.create({ButtonWrapper:{marginTop:"10px"}}),Ct=n(501);function Dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt=function(){var e=w()((function*(e,t,n){return new Promise(function(){var r=w()((function*(r){var o=new Ct.ListObjectsV2Command(Et({},n)),i=yield e.send(o);if(i.NextContinuationToken){var c=yield Bt(e,t,Et(Et({},n),{},{ContinuationToken:i.NextContinuationToken}));r([].concat(k()(i.Contents),k()(c)))}else r(k()(i.Contents))}));return function(e){return r.apply(this,arguments)}}())}));return function(t,n,r){return e.apply(this,arguments)}}(),Ft=function(){var e=w()((function*(e,t,n){return yield new Promise(function(){var r=w()((function*(r){var o=n.filter((function(e){return e.isFolder})),i=n.filter((function(e){return!e.isFolder})),c={Bucket:t},a=yield Promise.all(o.map(function(){var t=w()((function*(t){return yield Bt(e,t,Et(Et({},c),{},{Prefix:t.key}))}));return function(e){return t.apply(this,arguments)}}())),l=[].concat(k()(a.flat()),k()(i)),s={Bucket:t,Delete:{Objects:l.map((function(e){return{Key:e.Key||e.key}}))}},u=new F.DeleteObjectsCommand(s);r(yield e.send(u))}));return function(e){return r.apply(this,arguments)}}())}));return function(t,n,r){return e.apply(this,arguments)}}();function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var It=function(){var e,t,n=Object(i.useState)(void 0),r=u()(n,2),o=r[0],a=r[1],l=c.a.useState(!1),s=u()(l,2),d=s[0],j=s[1],b=c.a.useState(!1),h=u()(b,2),m=h[0],x=h[1],v=c.a.useState(!1),P=u()(v,2),S=P[0],C=P[1],D=Object(i.useState)(""),E=u()(D,2),B=E[0],F=E[1],R=Object(i.useContext)(y),A=u()(R,1)[0],I=ue(A),N=u()(I,2),z=N[0],M=N[1],K=c.a.useState(!0),T=u()(K,2),L=T[0],W=T[1],U=Object(i.useState)({Bucket:A.s3credentials.bucket,Prefix:"",Delimiter:"/"}),V=u()(U,2),G=V[0],_=V[1];Object(i.useEffect)((function(){_(At(At({},G),{},{Bucket:A.s3credentials.bucket}))}),[A,z]);var q=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4?arguments[4]:void 0,i=Object(le.useQuery)(["getAssets",r,n.Bucket||"",n.Delimiter||"",n.Prefix||"",o||""],w()((function*(){try{var t=yield H(e,n);return se(t,n)}catch(r){console.log("[useGetAssets] Error : ",r)}return[]})),{enabled:t,refetchOnWindowFocus:!1});return i}(z,M,G,B,A.mutatedAt),Y=q.data,$=q.isLoading,X=q.isError,Z=function(e){_(At(At({},G),{},{Prefix:e}))},ee=function(e){e.isFolder?Z(e.prefix):a(e)},te=["bucket"].concat(k()(null==(e=G.Prefix)?void 0:e.split("/"))),ne=te.map((function(e,t){var n=t===(null==te?void 0:te.length)-1;return Object(Q.jsxs)(Je,{isUnderlined:!n,onPress:function(){!function(e){var t,n=(null==(t=G.Prefix)?void 0:t.split("/")).slice(0,e).join("/")+"/";Z("/"===n?"":n)}(t)},children:["/",!n&&Object(Q.jsx)(ie.default,{name:"folder-open-outline",color:"#ffbd43",size:22}),e]},"dirPath"+t)})),re=function(){F(""+Math.random())};return Object(Q.jsx)(Q.Fragment,{children:M?Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(g.Portal,{hostName:"Reloader",children:Object(Q.jsx)(O.default,{animated:!0,icon:"reload",onPress:function(){re()}})}),Object(Q.jsx)(g.Portal,{hostName:"Back",children:(null==(t=G.Prefix)?void 0:t.length)>0&&Object(Q.jsx)(O.default,{icon:"arrow-left",onPress:function(){!function(){var e=G.Prefix;if(""!==e){var t=e.substring(0,e.substring(0,e.length-1).lastIndexOf("/")+1);Z(t)}}()}})}),Object(Q.jsxs)(f.default,{style:Nt.root,children:[Object(Q.jsxs)(f.default,{style:Nt.section1,children:[X&&Object(Q.jsx)(p.default,{variant:"headlineSmall",children:"Error "}),Object(Q.jsxs)(f.default,{style:Nt.actionBarContainer,children:[Object(Q.jsx)(p.default,{variant:"bodyMedium",style:Nt.path,children:ne}),Object(Q.jsxs)(f.default,{style:Nt.buttonGroup,children:[Object(Q.jsx)(g.PortalHost,{name:"listassetsheader"}),Object(Q.jsx)(ce.default,{icon:"dots-grid",value:"grid",status:!1===L?"checked":"unchecked",onPress:function(){return W(!1)}}),Object(Q.jsx)(ce.default,{icon:"table",value:"table",status:!0===L?"checked":"unchecked",onPress:function(){return W(!0)}})]})]}),Object(Q.jsx)(Ue,{isVisible:m,onClose:function(){x(!1)},children:Object(Q.jsx)(Pt,{appState:A,s3client:z,prefix:G.Prefix,doReload:re,doCloseModal:function(){x(!1)}})}),Object(Q.jsx)(Ue,{isVisible:S,onClose:function(){C(!1)},children:Object(Q.jsx)(St,{appState:A,s3client:z,prefix:G.Prefix,doReload:re,doCloseModal:function(){C(!1)}})}),L?Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(Te,{assets:Y,onPress:ee,isLoading:$,deleteAssets:function(){var e=w()((function*(e){yield Ft(z,A.s3credentials.bucket,e),re()}));return function(t){return e.apply(this,arguments)}}()})}):Object(Q.jsx)(pt,{assets:Y,onPress:ee,isLoading:$}),Object(Q.jsx)(ae.default.Group,{backdropColor:"none",icon:"plus",onStateChange:function(e){var t=e.open;j(t)},open:d,onPress:function(){return j(!d)},visible:!0,style:[Nt.fabStyle],actions:[{icon:"plus",label:"Upload",onPress:function(){return x(!0)}},{icon:"folder",label:"New Folder",onPress:function(){return C(!0)}}]})]}),o&&Object(Q.jsx)(nt,{prefix:G.Prefix,onClose:function(){return a(void 0)},asset:o})]})]}):Object(Q.jsx)(J.default,{style:Nt.errorMessage,children:Object(Q.jsx)(p.default,{children:"S3 Client has not been initialized, please update your API Configuration first."})})})},Nt=o.default.create({path:{display:"flex",margin:10,flex:1},fabStyle:{bottom:45,right:25,position:"absolute"},errorMessage:{margin:12,padding:10},root:{flexDirection:"row",display:"flex",flex:1,flexGrow:1},section1:{flex:3,borderColor:"gray",borderRightWidth:2,flexDirection:"column"},buttonGroup:{display:"flex",flexDirection:"row"},actionBarContainer:{display:"flex",flexDirection:"row"}});function zt(){return Object(Q.jsx)(It,{})}var Mt=n(508),Kt=function(e){return Object(Q.jsxs)(Mt.default.Header,{mode:"center-aligned",elevated:!0,children:[Object(Q.jsx)(g.PortalHost,{name:"Back"}),Object(Q.jsx)(Mt.default.Content,{title:e.title}),Object(Q.jsx)(g.PortalHost,{name:"Reloader"})]})},Tt=function(){var e=i.useState(0),t=u()(e,2),n=t[0],r=t[1],o=i.useState([{key:"assets",title:"Assets",focusedIcon:"folder"},{key:"api_configuration",title:"API Configuration",focusedIcon:"cogs"}]),c=u()(o,1)[0],a=x.default.SceneMap({assets:zt,api_configuration:oe});return"web"===d.default.OS?null:Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsx)(Kt,{title:"BYOS"}),Object(Q.jsx)(x.default,{navigationState:{index:n,routes:c},onIndexChange:r,renderScene:a})]})},Ht=n(218),Lt=function(){var e=w()((function*(e){try{yield Ht.default.setItem("byos/application",JSON.stringify(e))}catch(t){}}));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=w()((function*(){try{var e=yield Ht.default.getItem("byos/application");if(null!==e)return e}catch(t){}return""}));return function(){return e.apply(this,arguments)}}(),Ut=function(e){try{return JSON.parse(e)}catch(t){return{}}},Vt=function(){var e=w()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=yield Wt();return Ut(t||e)}));return function(){return e.apply(this,arguments)}}(),Gt=function(){var e=w()((function*(e){return yield Lt(e),null}));return function(t){return e.apply(this,arguments)}}();function _t(){return Object(Q.jsx)(Q.Fragment,{children:Object(Q.jsx)(re,{})})}var Jt=n(194);function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qt=Yt(Yt({},Jt.MD3LightTheme),{},{roundness:2,version:3,colors:Yt({},Jt.MD3LightTheme.colors)}),$t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Xt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function Zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var en=Object(b.default)(),tn=o.default.create({ButtonsWrapper:{flexDirection:"row"},Button:{border:"1px",borderStyle:"solid"}});var nn=function(e){var t=e.children,n=Object(i.useContext)(Qe),r=u()(n,1)[0];return Object(Q.jsx)(h.default,{theme:r,children:t})},rn=function(){var e=Object(i.useState)(Qt),t=function(e){var t=Object(i.useState)(e),n=u()(t,2),r=n[0],o=n[1],c=Object(i.useState)(!1),a=u()(c,2),l=a[0],s=a[1];return Object(i.useMemo)((function(){Vt(JSON.stringify(e)).then((function(e){o(e),s(!0)})).catch((function(){console.log("[useGetApplicationStateFromLs] Promise failure getApplicationStateLS")}))}),[e]),{data:r,isLoaded:l}}(m),n=t.data,r=t.isLoaded,o=Object(i.useState)(n),c=u()(o,2),a=c[0],s=c[1];Object(i.useEffect)((function(){s(n)}),[n]),Object(i.useEffect)((function(){r&&Gt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a))}),[a,r]);var b=function(e){var t=e.navigation;return{headerTitle:function(e){return Object(Q.jsx)(p.default,{children:"BYOS"})},headerRight:function(){return Object(Q.jsxs)(f.default,{style:tn.ButtonsWrapper,children:[Object(Q.jsx)(g.PortalHost,{name:"Reloader"}),Object(Q.jsx)(O.default,{style:tn.Button,icon:"home",onPress:function(){return t.navigate("Home")}}),Object(Q.jsx)(O.default,{style:tn.Button,icon:"cogs",onPress:function(){return t.navigate("Credentials")}})]})}}};return Object(Q.jsx)(Qe.Provider,{value:e,children:Object(Q.jsx)(nn,{children:Object(Q.jsx)(g.PortalProvider,{children:Object(Q.jsxs)(y.Provider,{value:o,children:["web"===d.default.OS&&Object(Q.jsx)(j.default,{children:Object(Q.jsxs)(en.Navigator,{children:[Object(Q.jsx)(en.Screen,{name:"Home",component:zt,options:b}),Object(Q.jsx)(en.Screen,{name:"Credentials",component:_t,options:b})]})}),Object(Q.jsx)(Tt,{})]})})})})};!function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="./service-worker.js";$t?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Xt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Xt(t,e)}))}}();var on=Object(i.createContext)(Object.create(null));var cn={isReady:!1,routes:[{path:"/credentials",component:Object(Q.jsx)(_t,{}),showInNavigation:!0},{path:"/",component:Object(Q.jsx)((function(){return Object(Q.jsx)(Q.Fragment,{})}),{}),showInNavigation:!0}]};function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ln(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){var t=e.children,n=c.a.useContext(on),r=u()(n,2),o=r[0],a=r[1];return Object(i.useEffect)((function(){!1===o.isReady&&a(ln(ln({},o),{},{isReady:!0}))}),[o.isReady,o.routes]),Object(Q.jsx)(Q.Fragment,{children:t})},un=n(505),dn=n(299),fn=new un.QueryClient;function jn(e){var t=e.children;return Object(Q.jsx)(dn.QueryClientProvider,{client:fn,children:t})}var bn=function(e){var t=e.children,n=Object(i.useState)(cn);return Object(Q.jsx)(jn,{children:Object(Q.jsx)(on.Provider,{value:n,children:Object(Q.jsx)(sn,{children:t})})})},pn=function(){return Object(Q.jsx)(bn,{children:Object(Q.jsx)(rn,{})})};o.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function On(){return Object(Q.jsx)(pn,{})}Object(r.default)(On),Object(r.default)(On)}},[[356,1,2]]]);
//# sourceMappingURL=app.1d9cb7bf.chunk.js.map