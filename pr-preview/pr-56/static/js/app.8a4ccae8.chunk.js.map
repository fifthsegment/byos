{"version":3,"sources":["src/contexts/routing/RoutingContext.ts","src/contexts/application/ApplicationContext.ts","src/components/Header/index.tsx","src/services/s3/index.ts","src/components/Input/InputField.tsx","src/components/Button/index.tsx","src/components/Snackbar/Snackbar.tsx","src/components/SaveCredentialsForm/index.tsx","src/components/ApiConfiguration/index.tsx","src/adapters/s3.ts","src/components/ContextMenu/index.tsx","src/components/DataGrid/dataGridColumns.tsx","src/components/DataGrid/index.tsx","src/components/ListAssets/index.tsx","src/hooks/useS3Client.ts","src/hooks/useGetAssets.ts","src/pages/dashboard/index.tsx","src/components/MobileNavigation/index.tsx","src/services/localstorage/index.ts","src/theme/index.ts","src/App.tsx","src/hooks/useGetApplicationStateFromLS.ts","src/components/AppModal/index.tsx","src/routes/index.tsx","src/pages/credentials/index.tsx","src/pages/home/index.tsx","src/providers/BasicProvider.tsx","src/providers/QueryProvider.tsx","src/providers/Provider.tsx","src/ExportApp.tsx","App.js","index.js"],"names":["RoutingContext","createContext","Object","create","initialData","s3credentials","apiKey","undefined","apiSecret","region","endpoint","bucket","s3client","otherStuff","ApplicationContext","Header","props","Appbar","mode","elevated","name","Content","title","buildS3Client","initializationData","credentials","client","S3Client","middlewareStack","add","next","context","args","step","getAssets","params","console","log","command","ListObjectsCommand","response","send","folders","CommonPrefixes","map","item","prefix","Prefix","etag","lastModified","size","files","Contents","ETag","Key","LastModified","Size","StyleSheet","input","height","margin","borderWidth","padding","InternalInputField","TextInput","InputField","control","label","styles","textInput","marginTop","render","field","value","onChange","onBlur","onChangeText","text","style","Button","Snackbar","SaveCredentialsForm","useContext","appState","setAppState","useForm","defaultValues","handleSubmit","getValues","formState","reset","useEffect","useState","setSaved","React","visible","setVisible","onToggleSnackBar","container","flex","inner","justifyContent","header","fontSize","marginBottom","borderColor","borderBottomWidth","snackBarContainer","ScrollView","KeyboardAvoidingView","behavior","Platform","OS","Surface","Card","Text","variant","Actions","onPress","data","setTimeout","s3Client","accessKeyId","secretAccessKey","Bucket","View","onDismiss","action","ApiConfiguration","S3TypeToInternalAdapter","assets","asset","fileName","replace","assetId","fileSize","updatedAt","isFolder","length","ContextMenu","anchorEl","Boolean","dayjs","extend","relativeTime","iconType","exec","AntDesign","icon","Feather","DataGridColumns","columnHelper","createColumnHelper","accessor","id","cell","info","row","original","getValue","slice","prettyBytes","fromNow","display","filter","marginRight","DataGrid","setData","table","useReactTable","columns","getCoreRowModel","getPaginationRowModel","setPageSize","DataTable","getHeaderGroups","headerGroup","headers","index","Title","cellFirstChild","isPlaceholder","flexRender","column","columnDef","getContext","getRowModel","rows","Row","getVisibleCells","Cell","Pagination","page","getState","pagination","pageIndex","numberOfPages","getPageCount","onPageChange","setPageIndex","flexBasis","paddingRight","alignItems","path","ListAssets","rerun","setRerun","useMemo","useS3Client","s3Initialized","Delimiter","dataQuery","setDataQuery","clientInitialized","queryResponse","useQuery","error","enabled","refetchOnWindowFocus","useGetAssets","isLoading","isError","setPrefix","hostName","Math","random","newPrefix","substring","lastIndexOf","goBack","ActivityIndicator","animating","Dashboard","MobileNavigation","setIndex","key","focusedIcon","routes","renderScene","BottomNavigation","SceneMap","api_configuration","navigationState","onIndexChange","storeData","AsyncStorage","setItem","JSON","stringify","e","getData","getItem","parseJson","jsonString","parse","getApplicationStateLS","defaultValue","theme","DefaultTheme","roundness","version","colors","primary","secondary","App","routingState","d","setD","isLoaded","setIsLoaded","then","useGetApplicationStateFromLs","savedApplicationData","applicationState","applicationStateData","setApplicationStateData","Provider","isReady","route","ViewVirtual","ButtonUntyped","AppModal","children","handleClose","isOpen","internalRoutes","component","showInNavigation","BasicProvider","setRoutingState","queryClient","QueryClient","QueryProvider","ExportApp","backgroundColor","registerRootComponent"],"mappings":"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","file":"static/js/app.8a4ccae8.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nexport const RoutingContext = createContext(Object.create(null));\r\n","/**\r\n * This context will hold all of our application data like the current\r\n * user's api Keys, currently viewed directory, etc\r\n */\r\n\r\nimport { S3Client } from '@aws-sdk/client-s3'\r\nimport React, { createContext } from 'react'\r\n\r\nexport type ApplicationState = {\r\n    s3credentials: {\r\n        apiKey: string | undefined\r\n        apiSecret: string | undefined\r\n        region: string | undefined\r\n        endpoint: string | undefined\r\n        bucket: string | undefined\r\n    }\r\n    otherStuff: string\r\n    s3client: S3Client | undefined\r\n}\r\n\r\nexport const initialData: ApplicationState = {\r\n    s3credentials: {\r\n        apiKey: undefined,\r\n        apiSecret: undefined,\r\n        region: undefined,\r\n        endpoint: undefined,\r\n        bucket: undefined,\r\n    },\r\n    s3client: undefined,\r\n    otherStuff: '',\r\n}\r\n\r\nexport type ApplicationContextType = [\r\n    ApplicationState,\r\n    React.Dispatch<React.SetStateAction<ApplicationState>>\r\n]\r\n\r\nexport const ApplicationContext = createContext<ApplicationContextType>(\r\n    Object.create(null)\r\n)\r\n","import { Appbar } from 'react-native-paper';\nimport { PortalHost } from '@gorhom/portal';\nconst Header = (props: any) => (\n  <Appbar.Header mode='center-aligned' elevated={true}>\n    <PortalHost name=\"Back\" />\n    <Appbar.Content title={props.title} />\n    <PortalHost name=\"Reloader\" />\n  </Appbar.Header>\n);\n\nexport default Header","import { S3Client, ListObjectsCommand } from \"@aws-sdk/client-s3\";\r\nimport { S3Initializer, GetAssetArgs, Asset } from './types'\r\nimport 'react-native-url-polyfill/auto';\r\nimport 'react-native-get-random-values';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nexport const buildS3Client = (initializationData: S3Initializer) => {\r\n    const { credentials, region, endpoint } = initializationData\r\n    const client = new S3Client({\r\n        region: region,\r\n        credentials: credentials,\r\n        endpoint: endpoint,\r\n    })\r\n    client.middlewareStack.add((next, context) => async (args) => {\r\n        //args.request.headers[\"Custom-Header\"] = \"value\";\r\n        //eslint-disable-next-line\r\n        // @ts-ignore\r\n        //delete args.request.headers[\"amz-sdk-request\"];\r\n        // @ts-ignore\r\n        //delete args.request.headers[\"amz-sdk-invocation-id\"];//x-amz-content-sha256\r\n        // @ts-ignore\r\n        //delete args.request.headers[\"x-amz-content-sha256\"];\r\n        // @ts-ignore\r\n        //args.request.headers[\"date\"] = (new Date()).toUTCString();\r\n        // @ts-ignore\r\n        //delete args.request.headers[\"x-amz-date\"];\r\n        // @ts-ignore\r\n        //delete args.request.headers[\"x-amz-user-agent\"];\r\n        // @ts-ignore\r\n        const result = await next(args);\r\n        return result;\r\n    }, {\r\n        step: \"finalizeRequest\",\r\n        name: \"removeHeaders\",\r\n    })\r\n    return client\r\n}\r\n\r\nexport const getAssets: (\r\n    client: S3Client,\r\n    params: GetAssetArgs\r\n) => Promise<Asset[] | undefined> = async (client, params) => {\r\n    console.log(\"[s3:getAssets] Making a List Objects command\")\r\n    const command = new ListObjectsCommand(params)\r\n    console.log(\"[s3:getAssets] Command \", command)\r\n    console.log(\"[s3:getAssets] Our s3 Client\", client)\r\n    console.log(\"[s3:getAssets] Sending command using client.send\")\r\n\r\n    const response = await client.send(command)\r\n    const folders = response.CommonPrefixes?.map((item) => {\r\n        return {\r\n            prefix: item.Prefix,\r\n            etag: undefined,\r\n            name: item.Prefix,\r\n            lastModified: undefined,\r\n            size: 0\r\n        } as Asset\r\n    }) || []\r\n    const files = response.Contents?.map((item) => {\r\n        return {\r\n            etag: item.ETag,\r\n            name: item?.Key,\r\n            lastModified: item?.LastModified,\r\n            size: item?.Size\r\n        } as Asset\r\n    }) || []\r\n    return [...folders, ...files];\r\n}\r\n\r\nexport const deleteAsset: (assetId: string) => void = (_assetId) => {\r\n    /**\r\n     * Implementation here\r\n     */\r\n}\r\n","import { Controller } from 'react-hook-form';\nimport { KeyboardAvoidingView, Platform, StyleSheet, TextInput as Native, View } from 'react-native';\nimport { Surface, TextInput } from 'react-native-paper';\n\n\nconst styles = StyleSheet.create({\n    input: {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10,\n    },\n});\n\nexport const InternalInputField = (...args) => {\n    // @ts-ignore\n    return <TextInput\n        {...args[0]}\n    />\n}\n\nexport const InputField = ({ control, name, label }: any) => {\n    if (control === undefined) {\n        return null;\n    }\n    /*const {\n        field: { onChange, onBlur, value, ref },\n        fieldState: { invalid, isTouched, isDirty },\n        formState: { touchedFields, dirtyFields }\n    } = useController({\n        name,\n        control,\n        rules: { required: true },\n        defaultValue: \"\",\n    });*/\n\n    const styles = StyleSheet.create({\n        textInput: {\n          height: 40,\n          //borderColor: \"#000000\",\n          //borderBottomWidth: 1,\n          marginTop: 20\n        }\n      });\n\n\n    return <>   \n        <Controller\n            control={control}\n            name={name}\n            render={({ field: { value, onChange, onBlur } }: any) => {\n                return <>\n                    <InternalInputField\n                        name={name}\n                        label={label}\n                        value={value}\n                        onChangeText={(text) => {\n                            console.log(\"[InputChange] name = \", name, \" value = \", text)\n                            onChange(text)\n                        }}\n                        onBlur={onBlur}\n                        style={styles.textInput}\n                    />\n                </>\n            }}\n        />\n    </>\n}","import { Button as PaperButton } from 'react-native-paper';\n\nexport const Button = (...args) => {\n    // @ts-ignore\n    return <PaperButton\n        {...args[0]}\n    />\n}","import { Snackbar as PaperSnack } from 'react-native-paper';\n\nexport const Snackbar = (...args) => {\n    // @ts-ignore\n    return <PaperSnack\n        {...args[0]}\n    />\n}","import React, { useContext, useEffect, useState } from 'react'\nimport { FieldValues, useForm } from 'react-hook-form'\nimport { ApplicationContext } from '../../contexts/application/ApplicationContext'\nimport { buildS3Client, getAssets } from '../../services/s3'\nimport { Text, Card, Surface, Title } from 'react-native-paper';\nimport { InputField } from '../Input/InputField'\nimport { Button } from '../Button'\nimport { ScrollView, KeyboardAvoidingView, Platform, StyleSheet, View, } from 'react-native';\nimport { Snackbar } from '../Snackbar/Snackbar';\n\nexport const SaveCredentialsForm = () => {\n    const [appState, setAppState] = useContext(ApplicationContext)\n    const { s3credentials } = appState\n    const { control, handleSubmit, formState, getValues, reset } = useForm({\n        defaultValues: s3credentials,\n    })\n\n    useEffect(() => {\n        reset(s3credentials)\n    }, [s3credentials])\n\n\n    const [saved, setSaved] = useState(false)\n\n    const onSubmit = () => {\n        onToggleSnackBar();\n        const data = getValues();\n        console.log(\"[SaveCredentialsForm] Saving data = \", data)\n\n        setAppState({\n            ...appState,\n            s3credentials: data as any,\n            s3client: undefined,\n        })\n        setSaved(true)\n        setTimeout(() => {\n            setSaved(false)\n        }, 1000)\n        /**\n         * Build the s3 client here\n         */\n        const s3Client = buildS3Client({\n            credentials: {\n                accessKeyId: data.apiKey,\n                secretAccessKey: data.apiSecret,\n            },\n            region: data.region,\n            endpoint: data.endpoint,\n        })\n        getAssets(s3Client, { Bucket: \"testinghumza\" })\n    }\n\n    const [text, setText] = React.useState(\"\");\n\n    //snackbar\n    const [visible, setVisible] = React.useState(false);\n    const onToggleSnackBar = () => setVisible(!visible);\n    const onDismissSnackBar = () => setVisible(false);\n\n    const styles = StyleSheet.create({\n        container: {\n          flex: 1\n        },\n        inner: {\n          padding: 24,\n          flex: 1,\n          justifyContent: \"space-around\"\n        },\n        header: {\n          fontSize: 36,\n          marginBottom: 48\n        },\n        textInput: {\n          height: 40,\n          borderColor: \"#000000\",\n          borderBottomWidth: 1,\n          marginBottom: 36\n        },\n        snackBarContainer: {\n            flex: 1,\n            justifyContent: 'space-between',\n        }\n      });\n\n\n    return (\n        <ScrollView>\n             <KeyboardAvoidingView\n                behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\n                style={styles.container}\n                >\n            <Surface style={styles.inner}>\n                <Card>\n                    <Card.Content>\n                        <Text variant=\"headlineSmall\">API Configuration</Text>\n                        <InputField\n                            control={control}\n                            name=\"apiKey\"\n                            label=\"API KEY\"                            \n                        />\n\n                        <InputField\n                            control={control}\n                            name=\"apiSecret\"\n                            label=\"Api Secret\"\n                        />\n\n                        <InputField\n                            control={control}\n                            name=\"endpoint\"\n                            label=\"Endpoint\"\n                        />\n\n                        <InputField\n                            control={control}\n                            name=\"bucket\"\n                            label=\"Bucket\"\n                        />\n\n                        <InputField\n                            control={control}\n                            name=\"region\"\n                            label=\"Region\"\n                        />\n                        \n                    </Card.Content>\n                    <Card.Actions>\n                        <Button onPress={handleSubmit(onSubmit)}>Submit</Button>\n                    </Card.Actions>\n                </Card>\n            </Surface>\n        </KeyboardAvoidingView>\n                \n        <View style={styles.snackBarContainer}>\n            <Snackbar\n                visible={visible}\n                onDismiss={onDismissSnackBar}\n                action={{\n                    label: 'Dismiss',\n                    onPress: () => {\n                        // Do something\n                    },\n                }}\n                >\n\n                Credentials are saved!\n\n                {/* {saved ? <Text>Credentials are saved!</Text> : <Text>Credentials not saved!</Text>} */}\n            </Snackbar>\n        </View>\n                \n            \n        </ScrollView>\n    )\n}\n","import { Text } from 'react-native-paper';\nimport { SaveCredentialsForm } from '../SaveCredentialsForm'\n\nexport const ApiConfiguration = () =>{\n  return(\n    <SaveCredentialsForm/>\n  )\n}","import { Asset, GetAssetArgs } from \"../services/s3/types\";\nimport { Asset as AppAssetType } from \"../services/types\"\nexport const S3TypeToInternalAdapter = (assets: Asset[], params: GetAssetArgs) => {\n    return assets.map((asset: Asset) => {\n        const fileName = asset.name.replace(params.Prefix, \"\");\n        return {\n            assetId: asset.etag,\n            fileName,\n            fileSize: asset.size,\n            updatedAt: asset.lastModified,\n            isFolder: asset.prefix?.length > 0,\n            prefix: asset.prefix\n        } as AppAssetType\n    })\n}","import React from \"react\";\n\nexport const ContextMenu = () => {\n  const [anchorEl] = React.useState<null | HTMLElement>(null);\n  const open = Boolean(anchorEl);\n  /*\n  const _handleClick = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  */\n\n  return (\n    <>\n    </>)\n}\n","import { ContextMenu } from '../ContextMenu';\nimport { createColumnHelper } from '@tanstack/react-table';\nimport { Asset } from '../../services/types';\nimport prettyBytes from 'pretty-bytes';\n// @ts-ignore\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport { AntDesign, Feather } from '@expo/vector-icons';\nimport { Platform, StyleSheet } from 'react-native';\n\ndayjs.extend(relativeTime);\n\n//icons for different file types or folders\nconst iconType = (asset: Asset) => {\n  const re = /(?:\\.([^.]+))?$/;\n  const internalType = asset.isFolder\n    ? 'folder'\n    : re.exec(asset.fileName)[1] || '';\n  switch (internalType) {\n    case 'folder':\n      return <AntDesign style={styles.icon} name=\"folder1\" size={24} />;\n    case 'txt':\n      return <Feather style={styles.icon} name=\"file-text\" size={24} />;\n    default:\n      return <Feather style={styles.icon} name=\"file\" size={24} />;\n  }\n};\n\nexport const DataGridColumns = () => {\n  const columnHelper = createColumnHelper<Asset>();\n  const columns = [\n    // Dispaly file name with icon\n    columnHelper.accessor('fileName', {\n      id: 'fileName',\n      header: 'Name',\n      cell: (info) => {\n        const row = info.row.original;\n        const fileName = row.isFolder\n          ? info.getValue().slice(0, -1)\n          : info.getValue();\n        return (\n          <>\n            {iconType(row)} {fileName}\n          </>\n        );\n      },\n    }),\n\n    // Display file size\n    columnHelper.accessor('fileSize', {\n      id: 'fileSize',\n      header: 'Size',\n      cell: (info) =>\n        !info.row.original.isFolder && prettyBytes(info.getValue()),\n    }),\n\n    //Dispaly last modified\n    columnHelper.accessor('updatedAt', {\n      id: 'updatedAt',\n      header: 'Last Modified',\n      cell: (info) => {\n        return !info.row.original.isFolder && dayjs(info.getValue()).fromNow();\n      },\n    }),\n\n    //Display column size\n    columnHelper.display({\n      id: 'actions',\n      cell: () => <ContextMenu />,\n    }),\n  ].filter((item) => {\n    return Platform.OS !== 'web' ? item.id === 'fileName' : true;\n  });\n  return columns;\n};\n\nconst styles = StyleSheet.create({\n  icon: {\n    marginRight: '6px',\n  },\n});\n","import React, { Fragment, useEffect } from 'react';\nimport {\n  flexRender,\n  getCoreRowModel,\n  getPaginationRowModel,\n  useReactTable,\n} from '@tanstack/react-table';\nimport { DataGridColumns } from './dataGridColumns';\nimport { Asset } from '../../services/types';\nimport { DataTable, Text } from 'react-native-paper';\nimport { ScrollView, View, StyleSheet } from 'react-native';\n\nexport type DataGridProps = {\n  assets: Asset[] | undefined;\n  onPress: (asset: Asset) => void;\n};\n\nexport const DataGrid = ({ assets, onPress }: DataGridProps) => {\n  const [data, setData] = React.useState(() => assets || []);\n  useEffect(() => {\n    setData(assets || []);\n  }, [assets]);\n  const table = useReactTable({\n    data,\n    columns: DataGridColumns(),\n    getCoreRowModel: getCoreRowModel(),\n    getPaginationRowModel: getPaginationRowModel(),\n  });\n\n  useEffect(() => {\n    table.setPageSize(20);\n  }, []);\n\n  return (\n    <DataTable>\n      <DataTable.Header>\n        {table.getHeaderGroups().map((headerGroup) => (\n          <Fragment key={headerGroup.id}>\n            {headerGroup.headers.map((header, index) => (\n              <DataTable.Title\n                key={header.id}\n                style={index === 0 ? styles.cellFirstChild : styles.cell}\n              >\n                <Text>\n                  {header.isPlaceholder\n                    ? null\n                    : flexRender(\n                        header.column.columnDef.header,\n                        header.getContext()\n                      )}\n                </Text>\n              </DataTable.Title>\n            ))}\n          </Fragment>\n        ))}\n      </DataTable.Header>\n      {table.getRowModel().rows.map((row) => {\n        return (\n          <DataTable.Row\n            key={row.id}\n            onPress={() => {\n              onPress(row.original);\n            }}\n          >\n            {row.getVisibleCells().map((cell, index) => (\n              <DataTable.Cell\n                key={cell.id}\n                style={index === 0 ? styles.cellFirstChild : styles.cell}\n              >\n                <>{console.log(cell)}</>\n                <Text style={styles.title}>\n                  {flexRender(cell.column.columnDef.cell, cell.getContext())}\n                </Text>\n              </DataTable.Cell>\n            ))}\n          </DataTable.Row>\n        );\n      })}\n      <DataTable.Pagination\n        page={table.getState().pagination.pageIndex + 1}\n        numberOfPages={table.getPageCount()}\n        onPageChange={(page) => table.setPageIndex(page - 1)}\n        label={`${\n          table.getState().pagination.pageIndex + 1\n        } of ${table.getPageCount()}`}\n      />\n    </DataTable>\n  );\n};\n\n/* const styles = {\n  paddingRight: '30px',\n}; */\n\nconst styles = StyleSheet.create({\n  cell: {\n    flexBasis: 'auto',\n    paddingRight: '30px',\n  },\n  cellFirstChild: {\n    flexBasis: '78%',\n  },\n  title: {\n    display: 'flex',\n    alignItems: 'center',\n  },\n});\n","import React, { useContext, useEffect, useState } from 'react'\nimport {\n    ApplicationContext,\n    ApplicationContextType,\n} from '../../contexts/application/ApplicationContext'\nimport { useGetAssets } from '../../hooks/useGetAssets'\nimport { useS3Client } from '../../hooks/useS3Client';\nimport { DataGrid } from '../DataGrid';\nimport { Platform, ScrollView, StyleSheet, View } from 'react-native';\nimport { Text, ActivityIndicator, Surface, Card } from 'react-native-paper';\nimport { Button } from '../Button';\nimport { Asset } from '../../services/types';\nimport { GetAssetArgs } from '../../services/s3/types';\nimport { Portal } from '@gorhom/portal';\n\nconst styles = StyleSheet.create({\n    path: {\n        margin: 10\n    }\n})\n\nexport const ListAssets = () => {\n    const [search, setSearch] = useState(\"\");\n    const [rerun, setRerun] = useState(\"\");\n    const [appState] = useContext<ApplicationContextType>(ApplicationContext)\n    const [s3client, s3Initialized] = useS3Client(appState);\n    const [dataQuery, setDataQuery] = useState<GetAssetArgs>({\n        Bucket: appState.s3credentials.bucket,\n        Prefix: ``,\n        Delimiter: \"/\"\n    })\n    useEffect(() => {\n        setDataQuery({ ...dataQuery, Bucket: appState.s3credentials.bucket })\n    }, [appState, s3client])\n\n    const { data, isLoading, isError } = useGetAssets(s3client, s3Initialized, dataQuery, rerun);\n\n    const setPrefix = (prefix: string) => {\n        setDataQuery({ ...dataQuery, Prefix: prefix })\n\n    }\n    const onPress = (asset: Asset) => {\n        if (asset.isFolder) {\n            setPrefix(asset.prefix)\n        }\n    }\n\n    const goBack = () => {\n        const prefix = dataQuery.Prefix;\n        if (prefix !== \"\") {\n            const newPrefix = prefix.substring(0, prefix.substring(0, prefix.length - 1).lastIndexOf(\"/\") + 1);\n            setPrefix(newPrefix)\n        }\n    }\n\n    return <>\n        <Portal hostName=\"Reloader\">\n            <Button onPress={() => { setRerun(`${(Math.random())}`) }} mode='outlined'>Reload</Button>\n        </Portal>\n        <Portal hostName=\"Back\">\n            {dataQuery.Prefix?.length > 0 && <Button onPress={() => { goBack() }} mode='outlined'>Go back</Button>}\n        </Portal>\n        <Text variant=\"bodyLarge\" style={styles.path}>\n            {`Bucket Root /${dataQuery.Prefix}`}\n        </Text>\n        {isLoading && <ActivityIndicator animating={true} />}\n        {isError && <Text variant=\"headlineSmall\">Error </Text>}\n        <ScrollView>\n            {data && isLoading === false && <DataGrid assets={data} onPress={onPress} />}\n        </ScrollView>\n    </>\n}\n","import { S3Client } from \"@aws-sdk/client-s3\";\nimport { useMemo } from \"react\"\nimport { ApplicationState } from \"../contexts/application/ApplicationContext\";\nimport { buildS3Client } from \"../services/s3\";\n\nexport const useS3Client: (appState: ApplicationState) => [S3Client | undefined, boolean] = (appState: ApplicationState) => {\n    const { s3credentials } = appState;\n    const { apiKey, apiSecret, region, endpoint } = s3credentials;\n    const [client, isInitialized] = useMemo(() => {\n        if (apiKey && apiSecret && endpoint) {\n            console.log(\"[useS3Client] Building S3 Client region = \", region)\n            console.log(\"[useS3Client] Building S3 Client apiKey = \", apiKey)\n\n            return [buildS3Client({\n                region,\n                credentials: {\n                    accessKeyId: apiKey,\n                    secretAccessKey: apiSecret\n                },\n                endpoint\n            }), true]\n        }\n        return [undefined, false]\n    }, [apiKey, apiSecret, region, endpoint])\n    return [client, isInitialized];\n}","import { S3Client } from '@aws-sdk/client-s3';\nimport { useQuery } from '@tanstack/react-query'\nimport { S3TypeToInternalAdapter } from '../adapters/s3';\nimport { getAssets } from '../services/s3';\nimport { GetAssetArgs } from '../services/s3/types';\n\nexport const useGetAssets = (client: S3Client, clientInitialized: boolean, params: GetAssetArgs, rerun: string = \"\") => {\n    const queryResponse = useQuery(['getAssets', rerun, params.Bucket || \"\", params.Delimiter || \"\", params.Prefix || \"\"], async () => {\n        try {\n            console.log(\"[useGetAssets] Getting data \")\n            const data = await getAssets(client, params)\n            const assets = S3TypeToInternalAdapter(data, params);\n            return assets;\n        } catch (error) {\n            console.log(\"[useGetAssets] Error : \", error)\n        }\n        return []\n    }, {\n        enabled: clientInitialized,\n        refetchOnWindowFocus: false\n    })\n    return queryResponse;\n}\n","import React from 'react'\r\nimport { ListAssets } from '../../components/ListAssets'\r\n\r\nexport default function Dashboard() {\r\n    return (           \r\n            <ListAssets />\r\n    )\r\n}\r\n","import * as React from 'react';\nimport { BottomNavigation } from 'react-native-paper';\nimport { ApiConfiguration } from '../ApiConfiguration/index'\nimport Dashboard from '../../pages/dashboard';\n\nconst MobileNavigation = () => {\n  const [index, setIndex] = React.useState(0);\n  const [routes] = React.useState([\n    { key: 'assets', title: 'Assets', focusedIcon: 'folder'},\n    { key: 'api_configuration', title: 'API Configuration', focusedIcon: 'cogs' }\n  ]);\n\n  const renderScene = BottomNavigation.SceneMap({\n    assets: Dashboard,\n    api_configuration: ApiConfiguration    \n  });\n\n  return (\n    <BottomNavigation\n      navigationState={{ index, routes }}\n      onIndexChange={setIndex}\n      renderScene={renderScene}\n    />\n  );\n};\n\nexport default MobileNavigation;","export const ApplicationStorageKey = 'byos/application'\nexport const DomainStorageKey = 'byos/domain'\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst storeData = async (value: any) => {\n    try {\n        await AsyncStorage.setItem(ApplicationStorageKey, JSON.stringify(value))\n    } catch (e) {\n        // saving error\n    }\n}\n\nconst getData = async () => {\n    try {\n        const value = await AsyncStorage.getItem(ApplicationStorageKey)\n        if (value !== null) {\n            // value previously stored\n            return value;\n        }\n    } catch (e) {\n        // error reading value\n    }\n    return \"\"\n}\n\nconst parseJson = (jsonString: string) => {\n    try {\n        return JSON.parse(jsonString)\n    } catch (error) {\n        return {}\n    }\n}\n\nexport const getApplicationStateLS = async (defaultValue: string = '{}') => {\n    const value = await getData();\n    if (value) {\n        return parseJson(value)\n    }\n    return parseJson(defaultValue)\n}\n\nexport const setApplicationStateLS = (value: any) => {\n    storeData(value);\n}\n","import { MD3LightTheme as DefaultTheme } from 'react-native-paper';\n\nexport const theme = {\n  ...DefaultTheme,\n  roundness: 2,\n  version: 3,\n  colors: {\n    ...DefaultTheme.colors,\n    primary: '#eeeeee',\n    secondary: '#112A46',\n  },\n};\n","import React, { useEffect, useState } from 'react';\r\n\r\n//import { HashRouter as Router, Routes, Route } from 'react-router-dom'\r\nimport { InternalRouteDef } from './routes';\r\n//import { Link } from 'react-router-dom'\r\nimport { RoutingContext } from './contexts/routing/RoutingContext';\r\nimport {\r\n  ApplicationContext,\r\n  ApplicationState,\r\n  initialData,\r\n} from './contexts/application/ApplicationContext';\r\n/*import {\r\n    getApplicationStateLS,\r\n    setApplicationStateLS,\r\n} from './services/localstorage'*/\r\n\r\nimport { Provider as PaperProvider } from 'react-native-paper';\r\nimport Header from './components/Header';\r\nimport MobileNavigation from './components/MobileNavigation';\r\nimport {\r\n  getApplicationStateLS,\r\n  setApplicationStateLS,\r\n} from './services/localstorage';\r\nimport { useGetApplicationStateFromLs } from './hooks/useGetApplicationStateFromLS';\r\nimport { PortalProvider } from '@gorhom/portal';\r\nimport { theme } from './theme';\r\n\r\nfunction App() {\r\n  const [routingState] = React.useContext(RoutingContext);\r\n  const { data: savedApplicationData, isLoaded } =\r\n    useGetApplicationStateFromLs(initialData);\r\n\r\n  const applicationState = useState(savedApplicationData as ApplicationState);\r\n\r\n  /*useEffect(() => {\r\n        applicationState[1](savedApplicationData);\r\n    }, [savedApplicationData])*/\r\n\r\n  const [applicationStateData, setApplicationStateData] = applicationState;\r\n\r\n  useEffect(() => {\r\n    //setApplicationStateLS({ ...applicationStateData })\r\n    setApplicationStateData(savedApplicationData);\r\n  }, [savedApplicationData]);\r\n\r\n  useEffect(() => {\r\n    if (isLoaded) {\r\n      console.log(\r\n        '[App] Application state was updated = ',\r\n        applicationStateData\r\n      );\r\n\r\n      setApplicationStateLS({ ...applicationStateData });\r\n    }\r\n  }, [applicationStateData, isLoaded]);\r\n\r\n  return (\r\n    <PaperProvider theme={theme}>\r\n      <PortalProvider>\r\n        <ApplicationContext.Provider value={applicationState}>\r\n          {routingState.isReady &&\r\n            routingState.routes.map((route: InternalRouteDef) => {\r\n              return null;\r\n            })}\r\n\r\n          <Header title=\"BYOS\" />\r\n          <MobileNavigation />\r\n        </ApplicationContext.Provider>\r\n      </PortalProvider>\r\n    </PaperProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { useMemo, useState } from \"react\"\nimport { ApplicationState } from \"../contexts/application/ApplicationContext\";\nimport { getApplicationStateLS } from \"../services/localstorage\";\n\nexport const useGetApplicationStateFromLs = (initialData: ApplicationState | undefined) => {\n    const [d, setD] = useState<ApplicationState | undefined>(initialData);\n    const [isLoaded, setIsLoaded] = useState(false);\n    useMemo(() => {\n        getApplicationStateLS(\n            JSON.stringify(initialData)\n        ).then(data => {\n            setD(data);\n            setIsLoaded(true);\n        })\n    }, [initialData])\n\n\n    return { data: d, isLoaded };\n}","import React, { PropsWithChildren } from 'react'\nimport { Button } from 'react-native-paper';\nimport { View } from 'react-native';\n\nconst style = {\n    position: 'absolute' as 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    width: 400,\n    bgcolor: 'background.paper',\n    boxShadow: 24,\n    p: 4,\n}\n\nexport type AppModalProps = {\n    isOpen: boolean\n    handleClose: () => void\n}\n\n// @ts-ignore\nconst ViewVirtual = (...args) => <View {...args[0]} />\n\n// @ts-ignore\nconst ButtonUntyped = (...args) => <Button {...args[0]} />\n\nexport function AppModal({ children, isOpen, handleClose }: PropsWithChildren<AppModalProps>) {\n    const containerStyle = { backgroundColor: 'white', padding: 20 };\n    return (\n        <ViewVirtual style={{ marginTop: 100 }}>\n            <ButtonUntyped onPress={() => handleClose()}>Close</ButtonUntyped>\n            {children}\n        </ViewVirtual>\n    )\n}\n","import React from \"react\";\r\nimport Home from \"../pages/home\";\r\nimport Credentials from \"../pages/credentials\";\r\n\r\nexport type InternalRouteDef = {\r\n    path: string;\r\n    component: JSX.Element;\r\n    showInNavigation: boolean;\r\n\r\n};\r\n\r\nexport type RoutingObjectDef = {\r\n    isReady: boolean;\r\n    routes: InternalRouteDef;\r\n}\r\n\r\nconst routes: InternalRouteDef[] = [\r\n    { path: \"/credentials\", component: <Credentials />, showInNavigation: true },\r\n    { path: \"/\", component: <Home />, showInNavigation: true }\r\n]\r\n\r\nconst internalRoutes = {\r\n    isReady: false,\r\n    routes: routes\r\n};\r\n\r\nexport default internalRoutes","import React, { useEffect, useState } from 'react'\r\n//import { useLinkClickHandler } from 'react-router-dom'\r\nimport { AppModal } from '../../components/AppModal'\r\nimport { SaveCredentialsForm } from '../../components/SaveCredentialsForm'\r\n//import { useNavigate } from 'react-router-dom'\r\n\r\nexport default function Credentials() {\r\n    // const [isOpen, setIsOpen] = useState(false)\r\n    // const navigate = useNavigate()\r\n    // const onClick = useLinkClickHandler('/credentials')\r\n    // useEffect(() => {\r\n    //     setIsOpen(true)\r\n    // }, [onClick, setIsOpen])\r\n\r\n    // const handleClose = () => {\r\n    //     setIsOpen(false)\r\n    //     navigate('/')\r\n    // }\r\n\r\n    return (\r\n        <>\r\n            <AppModal isOpen={false} handleClose={()=>{}}>\r\n                <SaveCredentialsForm />\r\n            </AppModal>\r\n        </>\r\n    )\r\n}\r\n","import React from 'react'\n\nexport default function Home() {\n    return (\n        <>\n        </>\n    )\n}\n","import React, { useEffect } from \"react\";\r\nimport { RoutingContext } from \"../contexts/routing/RoutingContext\";\r\n\r\nexport const BasicProvider = ({children} : React.PropsWithChildren) => {\r\n    const [routingState, setRoutingState] = React.useContext(RoutingContext);  \r\n    useEffect(() => {\r\n        if (routingState.isReady === false) {\r\n            setRoutingState({...routingState, isReady: true});\r\n        }\r\n        // eslint-disable-next-line\r\n    }, [routingState.isReady, routingState.routes])\r\n    return <>\r\n        {children}\r\n    </>\r\n}","import { QueryClient, QueryClientProvider } from '@tanstack/react-query'\n\nconst queryClient = new QueryClient()\n\nexport default function QueryProvider({ children }: React.PropsWithChildren) {\n    return (\n        <QueryClientProvider client={queryClient}>\n            {children}\n        </QueryClientProvider>\n    )\n}\n\n","import React, { useState } from \"react\"\r\nimport config from '../client-config'\r\nimport { RoutingContext } from \"../contexts/routing/RoutingContext\";\r\nimport routes from \"../routes\";\r\nimport { AzureAdProvider } from \"./AzureAd\";\r\nimport { BasicProvider } from \"./BasicProvider\";\r\nimport QueryProvider from \"./QueryProvider\";\r\nimport { Platform } from \"react-native\";\r\n\r\nexport const Provider = ({ children }: React.PropsWithChildren) => {\r\n    const { useAzureLogin } = config;\r\n    const routingState = useState(routes);\r\n    \r\n    /**\r\n     if (useAzureLogin) {\r\n        return <QueryProvider>\r\n            <RoutingContext.Provider value={routingState}>\r\n                <AzureAdProvider >\r\n                    {children}\r\n                </AzureAdProvider>\r\n            </RoutingContext.Provider>\r\n        </QueryProvider>\r\n    }else\r\n    { */\r\n    return (\r\n         <QueryProvider>\r\n        <RoutingContext.Provider value={routingState}>\r\n            <BasicProvider>\r\n                {children}\r\n            </BasicProvider>\r\n        </RoutingContext.Provider>\r\n    </QueryProvider>)\r\n     \r\n      \r\n}","import React from 'react';\nimport { Text } from 'react-native-paper';\nimport BAap from './App'\nimport { Provider } from './providers/Provider';\n\nconst ExportApp = () => {\n    return (\n    <Provider>\n        <BAap />\n    </Provider>    \n    )\n}\n\nexport default ExportApp","import { StatusBar } from 'expo-status-bar';\nimport { StyleSheet, Text, View } from 'react-native';\nimport BYOSApp from \"./src/ExportApp\";\nimport { registerRootComponent } from 'expo';\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n});\nexport default function App() {\n  return (\n      <BYOSApp/>\n  );\n}\nregisterRootComponent(App);\n\n\n\n","import { registerRootComponent } from 'expo';\n\nimport App from './App';\n\n// registerRootComponent calls AppRegistry.registerComponent('main', () => App);\n// It also ensures that whether you load the app in Expo Go or in a native build,\n// the environment is set up appropriately\nregisterRootComponent(App);\n"],"sourceRoot":""}