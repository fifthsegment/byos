(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{301:function(e,t,n){e.exports=n(384)},306:function(e,t,n){var r=n(307),c=n(308);"string"===typeof(c=c.__esModule?c.default:c)&&(c=[[e.i,c,""]]);var o={insert:"head",singleton:!1};r(c,o);e.exports=c.locals||{}},308:function(e,t,n){(t=n(309)(!1)).push([e.i,".remove-this-style-nav {\r\n    border-top: 1px solid gray;\r\n    margin-top: 1em;\r\n    margin-bottom: 1em;\r\n}\r\n\r\n.remove-this-style-nav ul li {\r\n    display: inline-block;\r\n    margin-left: 10px;\r\n}",""]),e.exports=t},333:function(e,t){},384:function(e,t,n){"use strict";n.r(t);var r=n(413),c=n(288),o=n(17),i=n(55),s=n(25),a=n(11),u=n.n(a),l=n(35),j=n.n(l),b=n(2),O=n.n(b),f=(n(306),n(100)),d=n(22),p=Object(b.createContext)(Object.create(null)),h={s3credentials:{apiKey:void 0,apiSecret:void 0,region:void 0,endpoint:void 0,bucket:void 0},s3client:void 0,otherStuff:""},g=Object(b.createContext)(Object.create(null)),y=n(42),v=n.n(y),x=n(404),m=n(408),P=n(403),w=function(e){var t=e.credentials,n=e.region,r=e.endpoint,c=new m.S3Client({region:n,credentials:t,endpoint:r});return c.middlewareStack.add((function(e,t){return function(){var t=v()((function*(t){return yield e(t)}));return function(e){return t.apply(this,arguments)}}()}),{step:"finalizeRequest",name:"removeHeaders"}),c},S=function(){var e=v()((function*(e,t){var n,r=new P.ListObjectsCommand(t);return(null==(n=(yield e.send(r)).Contents)?void 0:n.map((function(e){return{etag:e.ETag,name:null==e?void 0:e.Key,lastModified:null==e?void 0:e.LastModified,size:null==e?void 0:e.Size}})))||[]}));return function(t,n){return e.apply(this,arguments)}}(),C=n(108),D=n(7),k=function(){var e=O.a.useState(null),t=j()(e,1)[0];Boolean(t);return Object(D.jsx)(D.Fragment,{children:Object(D.jsx)("div",{children:"Context Menu"})})},E=n(239),R=n(181),A=n.n(R),I=n(240),M=n.n(I);A.a.extend(M.a);var F=function(e){switch(e){case"folder":case"textFile":default:return null}},N=function(){var e=Object(C.createColumnHelper)();return[e.accessor("fileName",{header:"Name",cell:function(e){return Object(D.jsxs)(D.Fragment,{children:[F(e.row.original.fileType)," ",e.getValue()]})}}),e.accessor("fileSize",{header:"Size",cell:function(e){return Object(E.default)(e.getValue())}}),e.accessor("updatedAt",{header:"Last Modified",cell:function(e){return A()(e.getValue()).fromNow()}}),e.display({id:"actions",cell:function(){return Object(D.jsx)(k,{})}})]},T=function(e){var t=e.assets,n=O.a.useState((function(){return t||[]})),r=j()(n,2),c=r[0],o=r[1];Object(b.useEffect)((function(){o(t||[])}),[t]);var i=Object(C.useReactTable)({data:c,columns:N(),getCoreRowModel:Object(C.getCoreRowModel)()});return Object(D.jsxs)("table",{children:[Object(D.jsx)("thead",{children:i.getHeaderGroups().map((function(e){return Object(D.jsx)("tr",{children:e.headers.map((function(e){return Object(D.jsx)("th",{colSpan:e.colSpan,children:e.isPlaceholder?null:Object(C.flexRender)(e.column.columnDef.header,e.getContext())},e.id)}))},e.id)}))}),Object(D.jsx)("tbody",{children:i.getRowModel().rows.map((function(e){return Object(D.jsx)("tr",{children:e.getVisibleCells().map((function(e){return Object(D.jsx)("td",{children:Object(C.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)}))})]})},z=n(29),L=function(){console.log("Platform = ",z.default);var e,t,n=Object(b.useState)(""),r=j()(n,2),c=r[0],o=r[1],i=Object(b.useContext)(g),s=j()(i,1)[0],a=function(e){var t=e.s3credentials,n=t.apiKey,r=t.apiSecret,c=t.region,o=t.endpoint;return Object(b.useMemo)((function(){if(n&&r&&o)return w({region:c,credentials:{accessKeyId:n,secretAccessKey:r},endpoint:o})}),[n,r,c,o])}(s),u=(e=a,t={Bucket:s.s3credentials.bucket,Prefix:""+c,Delimiter:"/"},Object(x.useQuery)(["getAssets",t.Bucket||"",t.Delimiter||"",t.Prefix||""],v()((function*(){try{return function(e){return e.map((function(e){return{assetId:e.etag,fileName:e.name,fileSize:e.size,updatedAt:e.lastModified}}))}(yield S(e,t))}catch(n){console.log("[useGetAssets] Error : ",n)}return[]})))),l=u.data,O=u.isLoading,f=u.isError;return Object(D.jsxs)("div",{children:[Object(D.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)},value:c,placeholder:"Prefix search..."}),Object(D.jsx)("div",{children:'Example prefix based search : "non-empty-folder/"'}),Object(D.jsx)("br",{}),"Results:",f&&"Error Fetching Data",O&&Object(D.jsx)(D.Fragment,{children:"Loading"}),!1===f&&Object(D.jsx)(T,{assets:l})]})};function K(){return Object(D.jsxs)("div",{children:["Dashboard",Object(D.jsx)(L,{})]})}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var H=function(){var e=O.a.useContext(p),t=j()(e,1)[0],n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=localStorage.getItem("byos/application");return t?JSON.parse(t):JSON.parse(e)}(JSON.stringify(h)),r=Object(b.useState)(n),c=j()(r,1)[0];return Object(b.useEffect)((function(){var e;e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c),localStorage.setItem("byos/application",JSON.stringify(e))}),[c]),Object(D.jsx)(g.Provider,{value:r,children:Object(D.jsxs)(f.HashRouter,{children:[Object(D.jsx)(d.Routes,{children:t.isReady&&t.routes.map((function(e){return Object(D.jsx)(d.Route,{path:e.path,element:e.component},e.path)}))}),Object(D.jsx)(K,{}),Object(D.jsx)("nav",{className:"remove-this-style-nav",children:Object(D.jsx)("ul",{children:t.routes.filter((function(e){return e.showInNavigation})).map((function(e){return Object(D.jsx)("li",{children:Object(D.jsx)(f.Link,{to:e.path,children:e.path},e.path)},e.path)}))})})]})})},J={useAzureLogin:!1};var _=n(415);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=function(){return Object(D.jsx)(s.default,V({},arguments.length<=0?void 0:arguments[0]))},Y=function(){return Object(D.jsx)(_.default,V({},arguments.length<=0?void 0:arguments[0]))};function G(e){var t=e.children,n=(e.isOpen,e.handleClose);return Object(D.jsxs)(Q,{style:{marginTop:100},children:[Object(D.jsx)(Y,{onPress:function(){return n()},children:"Close"}),t]})}var U=n(159),W=n(270),X=n(409);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){return Object(D.jsx)(X.default,$({},arguments.length<=0?void 0:arguments[0]))},te=function(e){var t=e.control,n=e.name,r=e.label;return void 0===t?null:Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(U.Controller,{control:t,name:n,render:function(e){var t=e.field,c=t.value,o=t.onChange,i=t.onBlur;return console.log("Field value = ",c),Object(D.jsx)(ee,{name:n,label:r,value:c,onChange:o,onBlur:i})}})})};function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ce=function(){var e=Object(b.useContext)(g),t=j()(e,2),n=t[0],r=t[1],c=n.s3credentials,o=Object(U.useForm)({defaultValues:c}),i=o.control,s=o.handleSubmit,a=(o.formState,Object(b.useState)(!1)),u=j()(a,2),l=u[0],f=u[1],d=O.a.useState(""),p=j()(d,2);p[0],p[1];return Object(D.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(D.jsx)(W.default,{children:"Api Credentials"}),Object(D.jsxs)("form",{onSubmit:s((function(e){console.log("FormData = ",e),r(re(re({},n),{},{s3credentials:e,s3client:void 0})),f(!0),setTimeout((function(){f(!1)}),1e3);var t=w({credentials:{accessKeyId:e.apiKey,secretAccessKey:e.apiSecret},region:e.region,endpoint:e.endpoint});S(t,{Bucket:"testinghumza"})})),children:[Object(D.jsx)(te,{control:i,name:"apiKey",label:"API KEY"}),Object(D.jsx)(te,{control:i,name:"apiSecret",label:"Api Secret"}),Object(D.jsx)(te,{control:i,name:"endpoint",label:"Endpoint"}),Object(D.jsx)(te,{control:i,name:"bucket",label:"Bucket"}),Object(D.jsx)(te,{control:i,name:"region",label:"Region"}),Object(D.jsx)("input",{type:"submit"}),l&&Object(D.jsx)("div",{children:"Credentials are saved!"})]})]})};var oe={isReady:!1,routes:[{path:"/credentials",component:Object(D.jsx)((function(){var e=Object(b.useState)(!1),t=j()(e,2),n=t[0],r=t[1],c=Object(d.useNavigate)(),o=Object(f.useLinkClickHandler)("/credentials");return Object(b.useEffect)((function(){r(!0)}),[o,r]),Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(G,{isOpen:n,handleClose:function(){r(!1),c("/")},children:Object(D.jsx)(ce,{})})})}),{}),showInNavigation:!0},{path:"/",component:Object(D.jsx)((function(){return Object(D.jsx)(D.Fragment,{})}),{}),showInNavigation:!0}]},ie=n(410),se=n(88),ae={scopes:["openid","offline_access"]};var ue=function(){var e=Object(se.useMsal)().instance;return Object(D.jsx)("button",{onClick:function(){return function(e){e.logoutPopup().catch((function(e){console.error(e)}))}(e)},children:"Sign out"})};var le=function(){var e=Object(se.useMsal)().instance;return Object(D.jsx)("button",{onClick:function(){return function(e){e.loginPopup(ae).catch((function(e){console.error(e)}))}(e)},children:"Sign in"})};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(){var e,t,n=Object(se.useMsal)(),r=n.instance,c=n.accounts,o=Object(b.useState)(null),i=j()(o,2),s=i[0],a=i[1],u=c[0]&&(null==(e=c[0])||null==(t=e.idTokenClaims)?void 0:t.given_name);return Object(D.jsxs)("div",{children:[Object(D.jsxs)("h5",{children:["Welcome  ",Object(D.jsx)(D.Fragment,{children:u})]}),s?Object(D.jsx)("p",{children:"Access Token Acquired!"}):Object(D.jsx)("button",{onClick:function(){var e=be(be({},ae),{},{account:c[0]});r.acquireTokenSilent(e).then((function(e){a(e.accessToken)})).catch((function(t){r.acquireTokenPopup(e).then((function(e){a(e.accessToken)}))}))},children:"Request Access Token"})]})}function fe(){var e=Object(se.useIsAuthenticated)();return Object(D.jsxs)("div",{children:[Object(D.jsx)("h5",{children:"Azure Login"}),e?Object(D.jsx)("span",{children:"You are singed in"}):Object(D.jsx)("span",{children:"You are singed out"}),Object(D.jsx)("br",{}),e?Object(D.jsx)(ue,{}):Object(D.jsx)(le,{}),e&&Object(D.jsx)(Oe,{})]})}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var he=new ie.PublicClientApplication({auth:{clientId:"1308c1b6-585b-4b12-ba62-7cfd2790849f",authority:"https://byo5.b2clogin.com/byo5.onmicrosoft.com/B2C_1_test1",redirectUri:"",knownAuthorities:["byo5.b2clogin.com"]},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1}}),ge=function(e){var t=e.children,n=O.a.useContext(p),r=j()(n,2),c=r[0],o=r[1];return Object(b.useEffect)((function(){!1===c.isReady&&o({routes:c.routes.map((function(e){return"/login"===e.path?pe(pe({},e),{},{component:Object(D.jsx)(fe,{})}):e})),isReady:!0})}),[c.isReady,c.routes]),Object(D.jsx)(se.MsalProvider,{instance:he,children:t})};function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){u()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var xe=function(e){var t=e.children,n=O.a.useContext(p),r=j()(n,2),c=r[0],o=r[1];return Object(b.useEffect)((function(){!1===c.isReady&&o(ve(ve({},c),{},{isReady:!0}))}),[c.isReady,c.routes]),Object(D.jsx)(D.Fragment,{children:t})},me=n(407),Pe=n(233),we=new me.QueryClient;function Se(e){var t=e.children;return Object(D.jsx)(Pe.QueryClientProvider,{client:we,children:t})}var Ce=function(e){var t=e.children,n=J.useAzureLogin,r=Object(b.useState)(oe);return n?Object(D.jsx)(Se,{children:Object(D.jsx)(p.Provider,{value:r,children:Object(D.jsx)(ge,{children:t})})}):Object(D.jsx)(Se,{children:Object(D.jsx)(p.Provider,{value:r,children:Object(D.jsx)(xe,{children:t})})})},De=function(){return Object(D.jsxs)(Ce,{children:["Hello",Object(D.jsx)(H,{})]})},ke=o.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function Ee(){return Object(D.jsxs)(s.default,{style:ke.container,children:[Object(D.jsx)(i.default,{children:"Open up App.js to start working on your app!"}),Object(D.jsx)(De,{}),Object(D.jsx)(c.StatusBar,{style:"auto"})]})}Object(r.default)(Ee),Object(r.default)(Ee)}},[[301,1,2]]]);
//# sourceMappingURL=app.dff12918.chunk.js.map