(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{311:function(e,t,n){e.exports=n(408)},351:function(e,t){},408:function(e,t,n){"use strict";n.r(t);var r=n(443),i=(n(409),n(3)),c=n(1),o=n.n(c),a=n(6),l=n.n(a),s=n(10),u=n.n(s),d=n(14),f=n(434),j=n(433),b=n(445),O=n(83),p={s3credentials:{apiKey:void 0,apiSecret:void 0,region:void 0,endpoint:void 0,bucket:void 0},s3client:void 0,otherStuff:""},g=Object(c.createContext)(Object.create(null)),h=n(440),x=n(133),m=n(24),y=n.n(m),v=n(25),P=n.n(v),w=n(436),S=n(427),C=n(428),k=(n(319),n(331),function(e){var t=e.credentials,n=e.region,r=e.endpoint,i=new w.S3Client({region:n,credentials:t,endpoint:r});return i.middlewareStack.add((function(e,t){return function(){var t=P()((function*(t){return yield e(t)}));return function(e){return t.apply(this,arguments)}}()}),{step:"finalizeRequest",name:"removeHeaders"}),i}),D=function(){var e=P()((function*(e,t){var n,r,i=new S.ListObjectsCommand(t),c=yield e.send(i),o=(null==(n=c.CommonPrefixes)?void 0:n.map((function(e){return{prefix:e.Prefix,etag:void 0,name:e.Prefix,lastModified:void 0,size:0,key:e.Prefix}})))||[],a=(null==(r=c.Contents)?void 0:r.map((function(e){return{prefix:"",etag:e.ETag,name:null==e?void 0:e.Key,lastModified:null==e?void 0:e.LastModified,size:null==e?void 0:e.Size,key:e.Key}})))||[];return[].concat(y()(o),y()(a))}));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=P()((function*(e,t){var n=new C.GetObjectCommand(t);return yield e.send(n)}));return function(t,n){return e.apply(this,arguments)}}(),I=(function(){var e=P()((function*(e,t){var n=new C.GetObjectCommand(t),r=yield e.config.endpoint();n.middlewareStack.add((function(e){return function(){var e=P()((function*(e){var n=e.request,i=n.headers,c=n.path,o=r.hostname,a=r.protocol;return fetch(a+"//"+o+"/"+t.Bucket+c,{headers:i}).then((function(e){console.log("Response = ",e)})),new Promise((function(e,t){return t(new Error("Intentional Failure"))}))}));return function(t){return e.apply(this,arguments)}}()}),{step:"finalizeRequest",name:"rH"});try{yield e.send(n)}catch(i){}}))}(),n(294)),R=n(40),E=n(429),z=n(437),B=n(4),N=i.default.create({textInput:{marginTop:20}}),M=function(e){var t=e.control,n=e.name,r=e.label;return void 0===t?null:Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(x.Controller,{control:t,name:n,render:function(e){var t=e.field,i=t.value,c=t.onChange,o=t.onBlur;return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(z.default,{label:r,value:i,onChangeText:function(e){console.log("[InputChange] name = ",n," value = ",e),c(e)},onBlur:o,style:N.textInput})})}})})},A=n(159),L=n(256),T=n(5);function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(){var e=Object(c.useContext)(g),t=u()(e,2),n=t[0],r=t[1],a=n.s3credentials,l=Object(x.useForm)({defaultValues:a}),s=l.control,f=l.handleSubmit,j=l.getValues,b=l.reset;Object(c.useEffect)((function(){b(a)}),[a]);var O=Object(c.useState)(!1),p=u()(O,2)[1],h=o.a.useState(!1),m=u()(h,2),y=m[0],v=m[1],P=function(){return v(!y)},w=i.default.create({container:{flex:1},inner:{padding:24,flex:1,justifyContent:"space-around"},header:{fontSize:36,marginBottom:48},textInput:{height:40,borderColor:"#000000",borderBottomWidth:1,marginBottom:36},snackBarContainer:{flex:1,justifyContent:"space-between"}});return Object(B.jsxs)(L.default,{behavior:"ios"===d.default.OS?"padding":"height",style:w.container,children:[Object(B.jsxs)(I.default,{children:[Object(B.jsxs)(I.default.Content,{children:[Object(B.jsx)(R.default,{variant:"headlineSmall",children:"API Configuration"}),Object(B.jsx)(M,{control:s,name:"apiKey",label:"API KEY"}),Object(B.jsx)(M,{control:s,name:"apiSecret",label:"Api Secret"}),Object(B.jsx)(M,{control:s,name:"endpoint",label:"Endpoint"}),Object(B.jsx)(M,{control:s,name:"bucket",label:"Bucket"}),Object(B.jsx)(M,{control:s,name:"region",label:"Region"})]}),Object(B.jsx)(I.default.Actions,{children:Object(B.jsx)(A.default,{onPress:f((function(){console.log("Submitting form"),P();var e=j();r(K(K({},n),{},{s3credentials:e,s3client:void 0})),p(!0),setTimeout((function(){p(!1)}),1e3);var t=k({credentials:{accessKeyId:e.apiKey,secretAccessKey:e.apiSecret},region:e.region,endpoint:e.endpoint});D(t,{Bucket:"testinghumza"}).catch((function(){console.log("[SaveCredentialsForm] Promise failure getAssets")}))})),children:"Submit"})})]}),Object(B.jsx)(T.default,{style:w.snackBarContainer,children:Object(B.jsx)(E.default,{visible:y,onDismiss:function(){return v(!1)},action:{label:"Dismiss",onPress:function(){}},children:"Credentials are saved!"})})]})},G=function(){return Object(B.jsx)(H,{})},W=n(432),J=n(72),U=n(441),q=n(444),Q=n(430),Y=function(e,t){return e.map((function(e){var n,r=e.name.replace(t.Prefix,"");return{assetId:e.etag,fileName:r,fileSize:e.size,updatedAt:e.lastModified,isFolder:(null==(n=e.prefix)?void 0:n.length)>0,prefix:e.prefix,etag:e.etag,key:e.key}}))},_=function(e){var t=e.s3credentials,n=t.apiKey,r=t.apiSecret,i=t.region,o=t.endpoint,a=Object(c.useMemo)((function(){return n&&r&&o?(console.log("[useS3Client] Building S3 Client region = ",i),console.log("[useS3Client] Building S3 Client apiKey = ",n),[k({region:i,credentials:{accessKeyId:n,secretAccessKey:r},endpoint:o}),!0]):[void 0,!1]}),[n,r,i,o]),l=u()(a,2);return[l[0],l[1]]},$=n(59),X=n(439),Z=n(143),ee=n(68),te=function(){return Object(B.jsx)(B.Fragment,{})},ne=n(266),re=n(183),ie=n.n(re),ce=n(267),oe=n.n(ce),ae=n(431),le=function(e){switch(e){case"png":case"jpeg":case"jpg":return"image";default:return"file"}};ie.a.extend(oe.a);var se=i.default.create({icon:{},filename:{}}),ue=function(e){var t=e.isFolder?"folder":/(?:\.([^.]+))?$/.exec(e.fileName)[1]||"",n=e.fileName.split(".").pop();switch(t){case"folder":return Object(B.jsx)(ae.default,{name:"folder",color:"#ffbd43",size:22,style:se.icon});default:return Object(B.jsx)(ae.default,{name:le(n),color:"#6565d6",size:22,style:se.icon})}},de=function(){var e=Object($.createColumnHelper)();return[e.accessor("fileName",{id:"fileName",header:"Name",cell:function(e){var t=e.row.original,n=t.isFolder?e.getValue().slice(0,-1):e.getValue();return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(R.default,{variant:"bodyLarge",style:se.filename,children:[ue(t)," \xa0",n]})})}}),e.accessor("fileSize",{id:"fileSize",header:"Size",cell:function(e){return Object(B.jsx)(R.default,{children:!e.row.original.isFolder&&Object(ne.default)(e.getValue())})}}),e.accessor("updatedAt",{id:"updatedAt",header:"Last Modified",cell:function(e){return Object(B.jsx)(R.default,{children:!e.row.original.isFolder&&ie()(e.getValue()).fromNow()})}}),e.display({id:"actions",cell:function(){return Object(B.jsx)(te,{})}})].filter((function(e){return"web"===d.default.OS||"fileName"===e.id}))},fe=i.default.create({cell:{flexBasis:"auto",paddingRight:"30px"},cellFirstChild:{flexBasis:"78%"},title:{display:"flex",alignItems:"center"}}),je=function(e){var t=e.assets,n=e.onPress,r=e.isLoading,i=o.a.useState((function(){return t||[]})),a=u()(i,2),l=a[0],s=a[1],d=Object(c.useState)(1),f=u()(d,2),j=f[0],b=f[1];Object(c.useEffect)((function(){s(t||[]),b(1)}),[t]);var O=Object($.useReactTable)({data:l,columns:de(),getCoreRowModel:Object($.getCoreRowModel)(),getPaginationRowModel:Object($.getPaginationRowModel)()});Object(c.useEffect)((function(){O.setPageSize(20*j)}),[j]);return Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(X.default.Header,{children:O.getHeaderGroups().map((function(e){return Object(B.jsx)(c.Fragment,{children:e.headers.map((function(e,t){return Object(B.jsx)(X.default.Title,{style:0===t?fe.cellFirstChild:fe.cell,children:Object(B.jsx)(R.default,{children:e.isPlaceholder?null:Object($.flexRender)(e.column.columnDef.header,e.getContext())})},e.id)}))},e.id)}))}),Object(B.jsx)(ee.default,{onScroll:function(e){(function(e){var t=e.layoutMeasurement,n=e.contentOffset,r=e.contentSize;return t.height+n.y>=r.height-20})(e.nativeEvent)&&(console.log("[Scroll] Scroll close to bottom"),b(j+1))},children:Object(B.jsxs)(X.default,{children:[r&&Object(B.jsx)(Z.default,{animating:!0}),O.getRowModel().rows.map((function(e){return Object(B.jsx)(X.default.Row,{onPress:function(){n(e.original)},children:e.getVisibleCells().map((function(e,t){return Object(B.jsx)(X.default.Cell,{style:0===t?fe.cellFirstChild:fe.cell,children:Object($.flexRender)(e.column.columnDef.cell,e.getContext())},e.id)}))},e.id)})),Object(B.jsx)(X.default.Pagination,{page:O.getState().pagination.pageIndex+1,numberOfPages:O.getPageCount(),onPageChange:function(e){return O.setPageIndex(e-1)},label:O.getState().pagination.pageIndex+1+" of "+O.getPageCount()})]})})]})},be=n(270),Oe=n(296),pe=n(39),ge=n(154),he=i.default.create({centeredView:{flex:1,justifyContent:"center",alignItems:"center",marginTop:22},modalView:{margin:20,width:200,backgroundColor:"white",borderRadius:20,padding:35,alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{borderRadius:20,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{marginBottom:15,textAlign:"center"}}),xe=function(e){var t=e.isVisible,n=e.onClose,r=e.children;return t?Object(B.jsx)(T.default,{style:he.centeredView,children:Object(B.jsx)(Oe.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){be.default.alert("Modal has been closed."),n()},children:Object(B.jsx)(T.default,{style:he.centeredView,children:Object(B.jsxs)(T.default,{style:he.modalView,children:[r,Object(B.jsx)(ge.default,{style:[he.button,he.buttonClose],onPress:function(){return n()},children:Object(B.jsx)(pe.default,{style:he.textStyle,children:"Hide Modal"})})]})})})}):null},me=n(13),ye=n.n(me),ve=["children","isUnderlined"];function Pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Se=function(e){var t=e.children,n=e.isUnderlined,r=ye()(e,ve);return Object(B.jsx)(R.default,we(we({},r),{},{style:n?[Ce.underline]:[],children:t}))},Ce=i.default.create({underline:{textDecorationLine:"underline"}}),ke=n(38),De=function(e){return e<576?"xs":e>=576&&e<768?"md":e>=768&&e<992?"lg":e>=992&&e<1200?"xl":e>=1200?"xxl":void 0},Fe=ke.default.get("window"),Ie=ke.default.get("screen"),Re=De(Fe.width),Ee=function(e){var t=e.hidden,n=e.children,r=Object(c.useState)({window:Fe,screen:Ie,screenType:Re}),i=u()(r,2),o=i[0],a=i[1];Object(c.useEffect)((function(){var e=ke.default.addEventListener("change",(function(e){var t=e.window,n=e.screen,r=De(t.width);a({window:t,screen:n,screenType:r})}));return function(){return null==e?void 0:e.remove()}}),[]);var l=!!t&&t.includes(o.screenType);return Object(B.jsx)(B.Fragment,{children:!l&&Object(B.jsx)(T.default,{children:n})})},ze=(i.default.create({header:{fontSize:16,marginVertical:10}}),Object(c.createContext)(Object.create({}))),Be=function(e){var t=e.asset,n=e.onClose,r=Object(c.useContext)(ze),i=u()(r,1)[0];return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(Ee,{hidden:["xs","md"],children:Object(B.jsxs)(T.default,{style:Ne.main,children:[Object(B.jsx)(J.default,{theme:i,icon:"close",onPress:n,style:Ne.closeButton}),Object(B.jsxs)(T.default,{style:[Ne.section2,Ne.centered],children:[Object(B.jsx)(R.default,{variant:"headlineSmall",style:[Ne.textCenter,Ne.marginBottom],children:Object(B.jsx)(ae.default,{theme:i,name:"file",size:100})}),Object(B.jsx)(R.default,{variant:"headlineSmall",style:Ne.textCenter,children:null==t?void 0:t.fileName}),Object(B.jsxs)(T.default,{style:[Ne.centered,Ne.horizontal],children:[Object(B.jsx)(J.default,{theme:i,icon:"pencil",onPress:n}),Object(B.jsx)(J.default,{theme:i,icon:"trash-can",onPress:n})]})]})]})})})},Ne=i.default.create({main:{display:"flex",flexGrow:1},closeButton:{display:"flex",textAlign:"right",height:50},marginBottom:{marginBottom:10},textCenter:{textAlign:"center"},centered:{justifyContent:"center",alignItems:"center"},horizontal:{flexDirection:"row"},section2:{minWidth:"30vw",flex:1,flexGrow:1,margin:20}}),Me=n(157),Ae=n(53),Le=n(146),Te=["png","jpeg","jpg"],Ve=function(e){var t=e.item,n=e.onPress,r=e.s3client,i=e.s3Initialized,o=e.appState,a=Object(c.useState)(),l=u()(a,2),s=l[0],d=l[1],f=Object(c.useState)(void 0),j=u()(f,2),b=j[0],O=j[1],p=Object(c.useState)(!1),g=u()(p,2),h=g[0],x=g[1],m=Object(c.useState)(!1),y=u()(m,2)[1],v=t.fileName.split(".").pop(),P=Te.includes(v),w=t.isFolder?"folder":le(v),S=t.fileSize<1e6;Object(c.useEffect)((function(){t.isFolder||P&&S&&(y(!0),F(r,{Key:t.key,Bucket:o.s3credentials.bucket}).then((function(e){var t;(t=e.Body,new Response(t,{})).blob().then((function(e){var t=new FileReader;t.readAsDataURL(e),t.onload=function(){var e=t.result;d(e),x(!0)}})).catch((function(e){O(e)}))})).catch((function(e){O(e)})))}),[i]);return Object(B.jsxs)(Le.default,{onPress:function(){n(t)},children:[P&&S?h&&!b?Object(B.jsx)(Ae.default,{source:{uri:s.toString()},style:Ke.preview}):Object(B.jsx)(ae.default,{name:"alert-triangle",size:100,style:Ke.errorIcon}):Object(B.jsx)(ae.default,{name:w,size:100,style:Ke.icon}),Object(B.jsx)(R.default,{style:Ke.fileName,onPress:function(){n(t)},children:t.fileName})]})},Ke=i.default.create({preview:{width:"100%",height:200},icon:{marginTop:20},wrapper:{},fileName:{bottom:0,textAlign:"center"},errorIcon:{color:"red"}}),He=function(e){var t=e.item,n=e.onPress,r=t.fileName.split(".").pop(),i=t.isFolder?"folder":le(r);return Object(B.jsxs)(Le.default,{onPress:function(){n(t)},children:[Object(B.jsx)(ae.default,{name:i,size:100,style:Ge.icon}),Object(B.jsx)(R.default,{style:Ge.fileName,onPress:function(){n(t)},children:t.fileName})]})},Ge=i.default.create({icon:{marginTop:20},wrapper:{},fileName:{bottom:0,textAlign:"center"},errorIcon:{color:"red"}}),We=function(e){var t=e.item,n=e.onPress,r=e.s3client,i=e.s3Initialized,c=e.appState,o=t.fileName.split(".").pop();return Object(B.jsx)(T.default,{style:Je.item,children:function(){switch(o){case"png":case"jpeg":case"jpg":return Object(B.jsx)(Ve,{item:t,onPress:n,s3client:r,s3Initialized:i,appState:c});default:return Object(B.jsx)(He,{item:t,onPress:n})}}()})},Je=i.default.create({item:{marginVertical:8,marginHorizontal:16,height:200,display:"flex",flex:1,overflow:"hidden",textAlign:"center"}}),Ue=i.default.create({columnWrapperStyle:{display:"flex"}}),qe=function(e){var t=e.assets,n=e.onPress,r=e.isLoading,i=Object(c.useContext)(g),a=u()(i,1)[0],l=_(a),s=u()(l,2),d=s[0],f=s[1],j=o.a.useState((function(){return t||[]})),b=u()(j,2),O=b[0],p=b[1],h=Object(c.useState)(1),x=u()(h,2),m=x[0],y=x[1];Object(c.useEffect)((function(){p(t||[]),y(1)}),[t]);var v=Object($.useReactTable)({data:O,columns:Qe(),getCoreRowModel:Object($.getCoreRowModel)(),getPaginationRowModel:Object($.getPaginationRowModel)()}),P=v.getRowModel().flatRows.map((function(e){return e.original}));Object(c.useEffect)((function(){v.setPageSize(20*m)}),[m]);return Object(B.jsx)(B.Fragment,{children:Object(B.jsxs)(ee.default,{onScroll:function(e){(function(e){var t=e.layoutMeasurement,n=e.contentOffset,r=e.contentSize;return t.height+n.y>=r.height-20})(e.nativeEvent)&&(console.log("[Scroll] Scroll close to bottom"),y(m+1))},children:[r&&Object(B.jsx)(Z.default,{animating:!0}),Object(B.jsxs)(T.default,{children:[Object(B.jsx)(Me.default,{columnWrapperStyle:Ue.columnWrapperStyle,numColumns:4,data:P,renderItem:function(e){var t=e.item;return Object(B.jsx)(We,{item:t,onPress:n,s3client:d,s3Initialized:f,appState:a})},keyExtractor:function(e){return e.fileName}}),Object(B.jsx)(B.Fragment,{})]})]})})},Qe=function(){return[Object($.createColumnHelper)().accessor("fileName",{id:"fileName",header:"Name",cell:function(e){return Object(B.jsx)(B.Fragment,{})}})]};function Ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ye(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $e=function(){var e,t,n=Object(c.useState)(void 0),r=u()(n,2),i=r[0],a=r[1],l=o.a.useState(!1),s=u()(l,2),d=s[0],f=s[1],j=Object(c.useState)(""),b=u()(j,2),p=b[0],h=b[1],x=Object(c.useContext)(g),m=u()(x,1)[0],v=_(m),w=u()(v,2),S=w[0],C=w[1],k=o.a.useState(!0),F=u()(k,2),E=F[0],z=F[1],N=Object(c.useState)({Bucket:m.s3credentials.bucket,Prefix:"",Delimiter:"/"}),M=u()(N,2),A=M[0],L=M[1];Object(c.useEffect)((function(){L(_e(_e({},A),{},{Bucket:m.s3credentials.bucket}))}),[m,S]);var V=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=Object(Q.useQuery)(["getAssets",r,n.Bucket||"",n.Delimiter||"",n.Prefix||""],P()((function*(){try{var t=yield D(e,n);return Y(t,n)}catch(r){console.log("[useGetAssets] Error : ",r)}return[]})),{enabled:t,refetchOnWindowFocus:!1});return i}(S,C,A,p),K=V.data,H=V.isLoading,G=V.isError,$=function(e){L(_e(_e({},A),{},{Prefix:e}))},X=function(e){e.isFolder?$(e.prefix):a(e)},Z=["bucket"].concat(y()(null==(e=A.Prefix)?void 0:e.split("/"))),ee=Z.map((function(e,t){var n=t===(null==Z?void 0:Z.length)-1;return Object(B.jsxs)(Se,{isUnderlined:!n,onPress:function(){!function(e){var t,n=(null==(t=A.Prefix)?void 0:t.split("/")).slice(0,e).join("/")+"/";$("/"===n?"":n)}(t)},children:["/",!n&&Object(B.jsx)(W.default,{name:"folder-open-outline",color:"#ffbd43",size:22}),e]},"dirPath"+t)}));return Object(B.jsx)(B.Fragment,{children:C?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(O.Portal,{hostName:"Reloader",children:Object(B.jsx)(J.default,{animated:!0,icon:"reload",onPress:function(){h(""+Math.random())}})}),Object(B.jsx)(O.Portal,{hostName:"Back",children:(null==(t=A.Prefix)?void 0:t.length)>0&&Object(B.jsx)(J.default,{icon:"arrow-left",onPress:function(){!function(){var e=A.Prefix;if(""!==e){var t=e.substring(0,e.substring(0,e.length-1).lastIndexOf("/")+1);$(t)}}()}})}),Object(B.jsxs)(T.default,{style:Xe.root,children:[Object(B.jsxs)(T.default,{style:Xe.section1,children:[G&&Object(B.jsx)(R.default,{variant:"headlineSmall",children:"Error "}),Object(B.jsxs)(T.default,{style:Xe.actionBarContainer,children:[Object(B.jsx)(R.default,{variant:"bodyMedium",style:Xe.path,children:ee}),Object(B.jsxs)(T.default,{style:Xe.buttonGroup,children:[Object(B.jsx)(U.default,{icon:"dots-grid",value:"grid",status:!1===E?"checked":"unchecked",onPress:function(){return z(!1)}}),Object(B.jsx)(U.default,{icon:"table",value:"table",status:!0===E?"checked":"unchecked",onPress:function(){return z(!0)}})]})]}),Object(B.jsx)(xe,{isVisible:d,onClose:function(){f(!1)},children:Object(B.jsx)(R.default,{children:"Upload files here"})}),E?Object(B.jsx)(je,{assets:K,onPress:X,isLoading:H}):Object(B.jsx)(qe,{assets:K,onPress:X,isLoading:H}),Object(B.jsx)(q.default,{icon:"plus",onPress:function(){return f(!d)},visible:!0,style:[Xe.fabStyle]})]}),i&&Object(B.jsx)(Be,{onClose:function(){return a(void 0)},asset:i})]})]}):Object(B.jsx)(I.default,{style:Xe.errorMessage,children:Object(B.jsx)(R.default,{children:"S3 Client has not been initialized, please update your API Configuration first."})})})},Xe=i.default.create({path:{display:"flex",margin:10,flex:1},fabStyle:{bottom:45,right:25,position:"absolute"},errorMessage:{margin:12,padding:10},root:{flexDirection:"row",display:"flex",flex:1,flexGrow:1},section1:{flex:3,borderColor:"gray",borderRightWidth:2,flexDirection:"column"},buttonGroup:{display:"flex",flexDirection:"row"},actionBarContainer:{display:"flex",flexDirection:"row"}});function Ze(){return Object(B.jsx)($e,{})}var et=n(438),tt=function(e){return Object(B.jsxs)(et.default.Header,{mode:"center-aligned",elevated:!0,children:[Object(B.jsx)(O.PortalHost,{name:"Back"}),Object(B.jsx)(et.default.Content,{title:e.title}),Object(B.jsx)(O.PortalHost,{name:"Reloader"})]})},nt=function(){var e=c.useState(0),t=u()(e,2),n=t[0],r=t[1],i=c.useState([{key:"assets",title:"Assets",focusedIcon:"folder"},{key:"api_configuration",title:"API Configuration",focusedIcon:"cogs"}]),o=u()(i,1)[0],a=h.default.SceneMap({assets:Ze,api_configuration:G});return"web"===d.default.OS?null:Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(tt,{title:"BYOS"}),Object(B.jsx)(h.default,{navigationState:{index:n,routes:o},onIndexChange:r,renderScene:a})]})},rt=n(188),it=function(){var e=P()((function*(e){try{yield rt.default.setItem("byos/application",JSON.stringify(e))}catch(t){}}));return function(t){return e.apply(this,arguments)}}(),ct=function(){var e=P()((function*(){try{var e=yield rt.default.getItem("byos/application");if(null!==e)return e}catch(t){}return""}));return function(){return e.apply(this,arguments)}}(),ot=function(e){try{return JSON.parse(e)}catch(t){return{}}},at=function(){var e=P()((function*(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"{}",t=yield ct();return ot(t||e)}));return function(){return e.apply(this,arguments)}}(),lt=function(){var e=P()((function*(e){return yield it(e),null}));return function(t){return e.apply(this,arguments)}}();function st(){return Object(B.jsx)(B.Fragment,{children:Object(B.jsx)(H,{})})}var ut=n(163);function dt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jt=ft(ft({},ut.MD3LightTheme),{},{roundness:2,version:3,colors:ft({},ut.MD3LightTheme.colors)});function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Ot=Object(j.default)();var pt=function(e){var t=e.children,n=Object(c.useContext)(ze),r=u()(n,1)[0];return console.log("Current theme = ",r),Object(B.jsx)(b.default,{theme:r,children:t})},gt=function(){var e=Object(c.useState)(jt),t=function(e){var t=Object(c.useState)(e),n=u()(t,2),r=n[0],i=n[1],o=Object(c.useState)(!1),a=u()(o,2),l=a[0],s=a[1];return Object(c.useMemo)((function(){at(JSON.stringify(e)).then((function(e){i(e),s(!0)})).catch((function(){console.log("[useGetApplicationStateFromLs] Promise failure getApplicationStateLS")}))}),[e]),{data:r,isLoaded:l}}(p),n=t.data,r=t.isLoaded,i=Object(c.useState)(n),o=u()(i,2),a=o[0],s=o[1];return Object(c.useEffect)((function(){s(n)}),[n]),Object(c.useEffect)((function(){r&&(console.log("[App] Application state was updated = ",a),lt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a)))}),[a,r]),Object(B.jsx)(ze.Provider,{value:e,children:Object(B.jsx)(pt,{children:Object(B.jsx)(O.PortalProvider,{children:Object(B.jsxs)(g.Provider,{value:i,children:["web"===d.default.OS&&Object(B.jsx)(f.default,{children:Object(B.jsxs)(Ot.Navigator,{children:[Object(B.jsx)(Ot.Screen,{name:"Home",component:Ze}),Object(B.jsx)(Ot.Screen,{name:"Credentials",component:st})]})}),Object(B.jsx)(nt,{})]})})})})},ht=Object(c.createContext)(Object.create(null));var xt={isReady:!1,routes:[{path:"/credentials",component:Object(B.jsx)(st,{}),showInNavigation:!0},{path:"/",component:Object(B.jsx)((function(){return Object(B.jsx)(B.Fragment,{})}),{}),showInNavigation:!0}]};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){l()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vt=function(e){var t=e.children,n=o.a.useContext(ht),r=u()(n,2),i=r[0],a=r[1];return Object(c.useEffect)((function(){!1===i.isReady&&a(yt(yt({},i),{},{isReady:!0}))}),[i.isReady,i.routes]),Object(B.jsx)(B.Fragment,{children:t})},Pt=n(435),wt=n(260),St=new Pt.QueryClient;function Ct(e){var t=e.children;return Object(B.jsx)(wt.QueryClientProvider,{client:St,children:t})}var kt=function(e){var t=e.children,n=Object(c.useState)(xt);return Object(B.jsx)(Ct,{children:Object(B.jsx)(ht.Provider,{value:n,children:Object(B.jsx)(vt,{children:t})})})},Dt=function(){return Object(B.jsx)(kt,{children:Object(B.jsx)(gt,{})})};i.default.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"}});function Ft(){return Object(B.jsx)(Dt,{})}Object(r.default)(Ft),Object(r.default)(Ft)}},[[311,1,2]]]);
//# sourceMappingURL=app.1b2adf64.chunk.js.map